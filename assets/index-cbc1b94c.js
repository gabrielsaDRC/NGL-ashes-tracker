function y0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Hh={exports:{}},Jo={},Vh={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=Symbol.for("react.element"),x0=Symbol.for("react.portal"),w0=Symbol.for("react.fragment"),_0=Symbol.for("react.strict_mode"),b0=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),S0=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),N0=Symbol.for("react.memo"),C0=Symbol.for("react.lazy"),Bu=Symbol.iterator;function T0(e){return e===null||typeof e!="object"?null:(e=Bu&&e[Bu]||e["@@iterator"],typeof e=="function"?e:null)}var Wh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gh=Object.assign,Kh={};function fs(e,t,r){this.props=e,this.context=t,this.refs=Kh,this.updater=r||Wh}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qh(){}Qh.prototype=fs.prototype;function Cc(e,t,r){this.props=e,this.context=t,this.refs=Kh,this.updater=r||Wh}var Tc=Cc.prototype=new Qh;Tc.constructor=Cc;Gh(Tc,fs.prototype);Tc.isPureReactComponent=!0;var qu=Array.isArray,Jh=Object.prototype.hasOwnProperty,Oc={current:null},Yh={key:!0,ref:!0,__self:!0,__source:!0};function Xh(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Jh.call(t,n)&&!Yh.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:xi,type:e,key:i,ref:o,props:s,_owner:Oc.current}}function O0(e,t){return{$$typeof:xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===xi}function P0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hu=/\/+/g;function Oa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P0(""+e.key):t.toString(36)}function so(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xi:case x0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Oa(o,0):n,qu(s)?(r="",e!=null&&(r=e.replace(Hu,"$&/")+"/"),so(s,t,r,"",function(u){return u})):s!=null&&(Pc(s)&&(s=O0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Hu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",qu(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Oa(i,a);o+=so(i,t,r,l,s)}else if(l=T0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Oa(i,a++),o+=so(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ai(e,t,r){if(e==null)return e;var n=[],s=0;return so(e,n,"","",function(i){return t.call(r,i,s++)}),n}function R0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},io={transition:null},I0={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:io,ReactCurrentOwner:Oc};function Zh(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ai,forEach:function(e,t,r){Ai(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ai(e,function(){t++}),t},toArray:function(e){return Ai(e,function(t){return t})||[]},only:function(e){if(!Pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=fs;te.Fragment=w0;te.Profiler=b0;te.PureComponent=Cc;te.StrictMode=_0;te.Suspense=E0;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I0;te.act=Zh;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Gh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Oc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Jh.call(t,l)&&!Yh.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:xi,type:e.type,key:s,ref:i,props:n,_owner:o}};te.createContext=function(e){return e={$$typeof:S0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:k0,_context:e},e.Consumer=e};te.createElement=Xh;te.createFactory=function(e){var t=Xh.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:j0,render:e}};te.isValidElement=Pc;te.lazy=function(e){return{$$typeof:C0,_payload:{_status:-1,_result:e},_init:R0}};te.memo=function(e,t){return{$$typeof:N0,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=io.transition;io.transition={};try{e()}finally{io.transition=t}};te.unstable_act=Zh;te.useCallback=function(e,t){return Ke.current.useCallback(e,t)};te.useContext=function(e){return Ke.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};te.useEffect=function(e,t){return Ke.current.useEffect(e,t)};te.useId=function(){return Ke.current.useId()};te.useImperativeHandle=function(e,t,r){return Ke.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Ke.current.useMemo(e,t)};te.useReducer=function(e,t,r){return Ke.current.useReducer(e,t,r)};te.useRef=function(e){return Ke.current.useRef(e)};te.useState=function(e){return Ke.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return Ke.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Ke.current.useTransition()};te.version="18.3.1";Vh.exports=te;var w=Vh.exports;const Ht=qh(w),A0=y0({__proto__:null,default:Ht},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=w,L0=Symbol.for("react.element"),D0=Symbol.for("react.fragment"),M0=Object.prototype.hasOwnProperty,U0=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z0={key:!0,ref:!0,__self:!0,__source:!0};function ef(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)M0.call(t,n)&&!z0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:L0,type:e,key:i,ref:o,props:s,_owner:U0.current}}Jo.Fragment=D0;Jo.jsx=ef;Jo.jsxs=ef;Hh.exports=Jo;var c=Hh.exports,tf={exports:{}},dt={},rf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,P){var $=j.length;j.push(P);e:for(;0<$;){var F=$-1>>>1,ee=j[F];if(0<s(ee,P))j[F]=P,j[$]=ee,$=F;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var P=j[0],$=j.pop();if($!==P){j[0]=$;e:for(var F=0,ee=j.length,T=ee>>>1;F<T;){var V=2*(F+1)-1,N=j[V],R=V+1,J=j[R];if(0>s(N,$))R<ee&&0>s(J,N)?(j[F]=J,j[R]=$,F=R):(j[F]=N,j[V]=$,F=V);else if(R<ee&&0>s(J,$))j[F]=J,j[R]=$,F=R;else break e}}return P}function s(j,P){var $=j.sortIndex-P.sortIndex;return $!==0?$:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,g=3,y=!1,x=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(j){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=j)n(u),P.sortIndex=P.expirationTime,t(l,P);else break;P=r(u)}}function b(j){if(v=!1,m(j),!x)if(r(l)!==null)x=!0,A(S);else{var P=r(u);P!==null&&q(b,P.startTime-j)}}function S(j,P){x=!1,v&&(v=!1,p(C),C=-1),y=!0;var $=g;try{for(m(P),f=r(l);f!==null&&(!(f.expirationTime>P)||j&&!B());){var F=f.callback;if(typeof F=="function"){f.callback=null,g=f.priorityLevel;var ee=F(f.expirationTime<=P);P=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(l)&&n(l),m(P)}else n(l);f=r(l)}if(f!==null)var T=!0;else{var V=r(u);V!==null&&q(b,V.startTime-P),T=!1}return T}finally{f=null,g=$,y=!1}}var E=!1,k=null,C=-1,O=5,L=-1;function B(){return!(e.unstable_now()-L<O)}function Z(){if(k!==null){var j=e.unstable_now();L=j;var P=!0;try{P=k(!0,j)}finally{P?ne():(E=!1,k=null)}}else E=!1}var ne;if(typeof h=="function")ne=function(){h(Z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=Z,ne=function(){G.postMessage(null)}}else ne=function(){_(Z,0)};function A(j){k=j,E||(E=!0,ne())}function q(j,P){C=_(function(){j(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,A(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var $=g;g=P;try{return j()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=g;g=j;try{return P()}finally{g=$}},e.unstable_scheduleCallback=function(j,P,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,j={id:d++,callback:P,priorityLevel:j,startTime:$,expirationTime:ee,sortIndex:-1},$>F?(j.sortIndex=$,t(u,j),r(l)===null&&j===r(u)&&(v?(p(C),C=-1):v=!0,q(b,$-F))):(j.sortIndex=ee,t(l,j),x||y||(x=!0,A(S))),j},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(j){var P=g;return function(){var $=g;g=P;try{return j.apply(this,arguments)}finally{g=$}}}})(nf);rf.exports=nf;var F0=rf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=w,ut=F0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sf=new Set,Xs={};function pn(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(Xs[e]=t,e=0;e<t.length;e++)sf.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=Object.prototype.hasOwnProperty,q0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vu={},Wu={};function H0(e){return fl.call(Wu,e)?!0:fl.call(Vu,e)?!1:q0.test(e)?Wu[e]=!0:(Vu[e]=!0,!1)}function V0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W0(e,t,r,n){if(t===null||typeof t>"u"||V0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rc=/[\-:]([a-z])/g;function Ic(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rc,Ic);Me[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rc,Ic);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rc,Ic);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ac(e,t,r,n){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W0(t,r,s,n)&&(r=null),n||s===null?H0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cr=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),$c=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),of=Symbol.for("react.provider"),af=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),lf=Symbol.for("react.offscreen"),Gu=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Pa;function As(e){if(Pa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pa=t&&t[1]||""}return`
`+Pa+e}var Ra=!1;function Ia(e,t){if(!e||Ra)return"";Ra=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ra=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?As(e):""}function G0(e){switch(e.tag){case 5:return As(e.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return e=Ia(e.type,!1),e;case 11:return e=Ia(e.type.render,!1),e;case 1:return e=Ia(e.type,!0),e;default:return""}}function yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dn:return"Fragment";case Ln:return"Portal";case pl:return"Profiler";case $c:return"StrictMode";case ml:return"Suspense";case gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case af:return(e.displayName||"Context")+".Consumer";case of:return(e._context.displayName||"Context")+".Provider";case Lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dc:return t=e.displayName||null,t!==null?t:yl(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return yl(e(t))}catch{}}return null}function K0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yl(t);case 8:return t===$c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q0(e){var t=cf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Li(e){e._valueTracker||(e._valueTracker=Q0(e))}function uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=cf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ku(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ar(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function df(e,t){t=t.checked,t!=null&&Ac(e,"checked",t,!1)}function xl(e,t){df(e,t);var r=Ar(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wl(e,t.type,r):t.hasOwnProperty("defaultValue")&&wl(e,t.type,Ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wl(e,t,r){(t!=="number"||vo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $s=Array.isArray;function Kn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ar(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ju(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if($s(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ar(r)}}function hf(e,t){var r=Ar(t.value),n=Ar(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ff(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ff(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Di,pf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J0=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){J0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function mf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Us.hasOwnProperty(e)&&Us[e]?(""+t).trim():t+"px"}function gf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=mf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Y0=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(e,t){if(t){if(Y0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=null;function Mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var El=null,Qn=null,Jn=null;function Xu(e){if(e=bi(e)){if(typeof El!="function")throw Error(I(280));var t=e.stateNode;t&&(t=ta(t),El(e.stateNode,e.type,t))}}function yf(e){Qn?Jn?Jn.push(e):Jn=[e]:Qn=e}function vf(){if(Qn){var e=Qn,t=Jn;if(Jn=Qn=null,Xu(e),t)for(e=0;e<t.length;e++)Xu(t[e])}}function xf(e,t){return e(t)}function wf(){}var Aa=!1;function _f(e,t,r){if(Aa)return e(t,r);Aa=!0;try{return xf(e,t,r)}finally{Aa=!1,(Qn!==null||Jn!==null)&&(wf(),vf())}}function ei(e,t){var r=e.stateNode;if(r===null)return null;var n=ta(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Nl=!1;if(sr)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Nl=!1}function X0(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var zs=!1,xo=null,wo=!1,Cl=null,Z0={onError:function(e){zs=!0,xo=e}};function eg(e,t,r,n,s,i,o,a,l){zs=!1,xo=null,X0.apply(Z0,arguments)}function tg(e,t,r,n,s,i,o,a,l){if(eg.apply(this,arguments),zs){if(zs){var u=xo;zs=!1,xo=null}else throw Error(I(198));wo||(wo=!0,Cl=u)}}function mn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zu(e){if(mn(e)!==e)throw Error(I(188))}function rg(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Zu(s),e;if(i===n)return Zu(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function kf(e){return e=rg(e),e!==null?Sf(e):null}function Sf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sf(e);if(t!==null)return t;e=e.sibling}return null}var jf=ut.unstable_scheduleCallback,ed=ut.unstable_cancelCallback,ng=ut.unstable_shouldYield,sg=ut.unstable_requestPaint,je=ut.unstable_now,ig=ut.unstable_getCurrentPriorityLevel,Uc=ut.unstable_ImmediatePriority,Ef=ut.unstable_UserBlockingPriority,_o=ut.unstable_NormalPriority,og=ut.unstable_LowPriority,Nf=ut.unstable_IdlePriority,Yo=null,Vt=null;function ag(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Yo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:ug,lg=Math.log,cg=Math.LN2;function ug(e){return e>>>=0,e===0?32:31-(lg(e)/cg|0)|0}var Mi=64,Ui=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Ls(a):(i&=o,i!==0&&(n=Ls(i)))}else o=r&~s,o!==0?n=Ls(o):i!==0&&(n=Ls(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ot(t),s=1<<r,n|=e[r],t&=~s;return n}function dg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ot(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=dg(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cf(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function $a(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=r}function fg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ot(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function zc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var de=0;function Tf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Of,Fc,Pf,Rf,If,Ol=!1,zi=[],Er=null,Nr=null,Cr=null,ti=new Map,ri=new Map,xr=[],pg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function Ns(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=bi(t),t!==null&&Fc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mg(e,t,r,n,s){switch(t){case"focusin":return Er=Ns(Er,e,t,r,n,s),!0;case"dragenter":return Nr=Ns(Nr,e,t,r,n,s),!0;case"mouseover":return Cr=Ns(Cr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ti.set(i,Ns(ti.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ri.set(i,Ns(ri.get(i)||null,e,t,r,n,s)),!0}return!1}function Af(e){var t=Yr(e.target);if(t!==null){var r=mn(t);if(r!==null){if(t=r.tag,t===13){if(t=bf(r),t!==null){e.blockedOn=t,If(e.priority,function(){Pf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jl=n,r.target.dispatchEvent(n),jl=null}else return t=bi(r),t!==null&&Fc(t),e.blockedOn=r,!1;t.shift()}return!0}function rd(e,t,r){oo(e)&&r.delete(t)}function gg(){Ol=!1,Er!==null&&oo(Er)&&(Er=null),Nr!==null&&oo(Nr)&&(Nr=null),Cr!==null&&oo(Cr)&&(Cr=null),ti.forEach(rd),ri.forEach(rd)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Ol||(Ol=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,gg)))}function ni(e){function t(s){return Cs(s,e)}if(0<zi.length){Cs(zi[0],e);for(var r=1;r<zi.length;r++){var n=zi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Er!==null&&Cs(Er,e),Nr!==null&&Cs(Nr,e),Cr!==null&&Cs(Cr,e),ti.forEach(t),ri.forEach(t),r=0;r<xr.length;r++)n=xr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)Af(r),r.blockedOn===null&&xr.shift()}var Yn=cr.ReactCurrentBatchConfig,ko=!0;function yg(e,t,r,n){var s=de,i=Yn.transition;Yn.transition=null;try{de=1,Bc(e,t,r,n)}finally{de=s,Yn.transition=i}}function vg(e,t,r,n){var s=de,i=Yn.transition;Yn.transition=null;try{de=4,Bc(e,t,r,n)}finally{de=s,Yn.transition=i}}function Bc(e,t,r,n){if(ko){var s=Pl(e,t,r,n);if(s===null)Va(e,t,n,So,r),td(e,n);else if(mg(s,e,t,r,n))n.stopPropagation();else if(td(e,n),t&4&&-1<pg.indexOf(e)){for(;s!==null;){var i=bi(s);if(i!==null&&Of(i),i=Pl(e,t,r,n),i===null&&Va(e,t,n,So,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Va(e,t,n,null,r)}}var So=null;function Pl(e,t,r,n){if(So=null,e=Mc(n),e=Yr(e),e!==null)if(t=mn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return So=e,null}function $f(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ig()){case Uc:return 1;case Ef:return 4;case _o:case og:return 16;case Nf:return 536870912;default:return 16}default:return 16}}var kr=null,qc=null,ao=null;function Lf(){if(ao)return ao;var e,t=qc,r=t.length,n,s="value"in kr?kr.value:kr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ao=s.slice(e,1<n?1-n:void 0)}function lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function nd(){return!1}function ht(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fi:nd,this.isPropagationStopped=nd,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=ht(ps),_i=_e({},ps,{view:0,detail:0}),xg=ht(_i),La,Da,Ts,Xo=_e({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(La=e.screenX-Ts.screenX,Da=e.screenY-Ts.screenY):Da=La=0,Ts=e),La)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),sd=ht(Xo),wg=_e({},Xo,{dataTransfer:0}),_g=ht(wg),bg=_e({},_i,{relatedTarget:0}),Ma=ht(bg),kg=_e({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=ht(kg),jg=_e({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eg=ht(jg),Ng=_e({},ps,{data:0}),id=ht(Ng),Cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Og[e])?!!t[e]:!1}function Vc(){return Pg}var Rg=_e({},_i,{key:function(e){if(e.key){var t=Cg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ig=ht(Rg),Ag=_e({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=ht(Ag),$g=_e({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),Lg=ht($g),Dg=_e({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mg=ht(Dg),Ug=_e({},Xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zg=ht(Ug),Fg=[9,13,27,32],Wc=sr&&"CompositionEvent"in window,Fs=null;sr&&"documentMode"in document&&(Fs=document.documentMode);var Bg=sr&&"TextEvent"in window&&!Fs,Df=sr&&(!Wc||Fs&&8<Fs&&11>=Fs),ad=String.fromCharCode(32),ld=!1;function Mf(e,t){switch(e){case"keyup":return Fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function qg(e,t){switch(e){case"compositionend":return Uf(t);case"keypress":return t.which!==32?null:(ld=!0,ad);case"textInput":return e=t.data,e===ad&&ld?null:e;default:return null}}function Hg(e,t){if(Mn)return e==="compositionend"||!Wc&&Mf(e,t)?(e=Lf(),ao=qc=kr=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Df&&t.locale!=="ko"?null:t.data;default:return null}}var Vg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vg[e.type]:t==="textarea"}function zf(e,t,r,n){yf(n),t=jo(t,"onChange"),0<t.length&&(r=new Hc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bs=null,si=null;function Wg(e){Yf(e,0)}function Zo(e){var t=Fn(e);if(uf(t))return e}function Gg(e,t){if(e==="change")return t}var Ff=!1;if(sr){var Ua;if(sr){var za="oninput"in document;if(!za){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),za=typeof ud.oninput=="function"}Ua=za}else Ua=!1;Ff=Ua&&(!document.documentMode||9<document.documentMode)}function dd(){Bs&&(Bs.detachEvent("onpropertychange",Bf),si=Bs=null)}function Bf(e){if(e.propertyName==="value"&&Zo(si)){var t=[];zf(t,si,e,Mc(e)),_f(Wg,t)}}function Kg(e,t,r){e==="focusin"?(dd(),Bs=t,si=r,Bs.attachEvent("onpropertychange",Bf)):e==="focusout"&&dd()}function Qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(si)}function Jg(e,t){if(e==="click")return Zo(t)}function Yg(e,t){if(e==="input"||e==="change")return Zo(t)}function Xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Xg;function ii(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fl.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var r=hd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hd(r)}}function qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hf(){for(var e=window,t=vo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vo(e.document)}return t}function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zg(e){var t=Hf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qf(r.ownerDocument.documentElement,r)){if(n!==null&&Gc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=fd(r,i);var o=fd(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ey=sr&&"documentMode"in document&&11>=document.documentMode,Un=null,Rl=null,qs=null,Il=!1;function pd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Il||Un==null||Un!==vo(n)||(n=Un,"selectionStart"in n&&Gc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qs&&ii(qs,n)||(qs=n,n=jo(Rl,"onSelect"),0<n.length&&(t=new Hc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Un)))}function Bi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},Fa={},Vf={};sr&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function ea(e){if(Fa[e])return Fa[e];if(!zn[e])return e;var t=zn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vf)return Fa[e]=t[r];return e}var Wf=ea("animationend"),Gf=ea("animationiteration"),Kf=ea("animationstart"),Qf=ea("transitionend"),Jf=new Map,md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Jf.set(e,t),pn(t,[e])}for(var Ba=0;Ba<md.length;Ba++){var qa=md[Ba],ty=qa.toLowerCase(),ry=qa[0].toUpperCase()+qa.slice(1);Dr(ty,"on"+ry)}Dr(Wf,"onAnimationEnd");Dr(Gf,"onAnimationIteration");Dr(Kf,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(Qf,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function gd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tg(n,t,void 0,e),e.currentTarget=null}function Yf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;gd(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;gd(s,a,u),i=l}}}if(wo)throw e=Cl,wo=!1,Cl=null,e}function me(e,t){var r=t[Ml];r===void 0&&(r=t[Ml]=new Set);var n=e+"__bubble";r.has(n)||(Xf(t,e,2,!1),r.add(n))}function Ha(e,t,r){var n=0;t&&(n|=4),Xf(r,e,n,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function oi(e){if(!e[qi]){e[qi]=!0,sf.forEach(function(r){r!=="selectionchange"&&(ny.has(r)||Ha(r,!1,e),Ha(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,Ha("selectionchange",!1,t))}}function Xf(e,t,r,n){switch($f(t)){case 1:var s=yg;break;case 4:s=vg;break;default:s=Bc}r=s.bind(null,t,r,e),s=void 0,!Nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Va(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}_f(function(){var u=i,d=Mc(r),f=[];e:{var g=Jf.get(e);if(g!==void 0){var y=Hc,x=e;switch(e){case"keypress":if(lo(r)===0)break e;case"keydown":case"keyup":y=Ig;break;case"focusin":x="focus",y=Ma;break;case"focusout":x="blur",y=Ma;break;case"beforeblur":case"afterblur":y=Ma;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=_g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Lg;break;case Wf:case Gf:case Kf:y=Sg;break;case Qf:y=Mg;break;case"scroll":y=xg;break;case"wheel":y=zg;break;case"copy":case"cut":case"paste":y=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=od}var v=(t&4)!==0,_=!v&&e==="scroll",p=v?g!==null?g+"Capture":null:g;v=[];for(var h=u,m;h!==null;){m=h;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,p!==null&&(b=ei(h,p),b!=null&&v.push(ai(h,b,m)))),_)break;h=h.return}0<v.length&&(g=new y(g,x,null,r,d),f.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&r!==jl&&(x=r.relatedTarget||r.fromElement)&&(Yr(x)||x[ir]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?Yr(x):null,x!==null&&(_=mn(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(v=sd,b="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=od,b="onPointerLeave",p="onPointerEnter",h="pointer"),_=y==null?g:Fn(y),m=x==null?g:Fn(x),g=new v(b,h+"leave",y,r,d),g.target=_,g.relatedTarget=m,b=null,Yr(d)===u&&(v=new v(p,h+"enter",x,r,d),v.target=m,v.relatedTarget=_,b=v),_=b,y&&x)t:{for(v=y,p=x,h=0,m=v;m;m=Tn(m))h++;for(m=0,b=p;b;b=Tn(b))m++;for(;0<h-m;)v=Tn(v),h--;for(;0<m-h;)p=Tn(p),m--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=Tn(v),p=Tn(p)}v=null}else v=null;y!==null&&yd(f,g,y,v,!1),x!==null&&_!==null&&yd(f,_,x,v,!0)}}e:{if(g=u?Fn(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var S=Gg;else if(cd(g))if(Ff)S=Yg;else{S=Qg;var E=Kg}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=Jg);if(S&&(S=S(e,u))){zf(f,S,r,d);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&wl(g,"number",g.value)}switch(E=u?Fn(u):window,e){case"focusin":(cd(E)||E.contentEditable==="true")&&(Un=E,Rl=u,qs=null);break;case"focusout":qs=Rl=Un=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,pd(f,r,d);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":pd(f,r,d)}var k;if(Wc)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mn?Mf(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Df&&r.locale!=="ko"&&(Mn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Mn&&(k=Lf()):(kr=d,qc="value"in kr?kr.value:kr.textContent,Mn=!0)),E=jo(u,C),0<E.length&&(C=new id(C,e,null,r,d),f.push({event:C,listeners:E}),k?C.data=k:(k=Uf(r),k!==null&&(C.data=k)))),(k=Bg?qg(e,r):Hg(e,r))&&(u=jo(u,"onBeforeInput"),0<u.length&&(d=new id("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}Yf(f,t)})}function ai(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ei(e,r),i!=null&&n.unshift(ai(e,i,s)),i=ei(e,t),i!=null&&n.push(ai(e,i,s))),e=e.return}return n}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yd(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ei(r,i),l!=null&&o.unshift(ai(r,l,a))):s||(l=ei(r,i),l!=null&&o.push(ai(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sy=/\r\n?/g,iy=/\u0000|\uFFFD/g;function vd(e){return(typeof e=="string"?e:""+e).replace(sy,`
`).replace(iy,"")}function Hi(e,t,r){if(t=vd(t),vd(e)!==t&&r)throw Error(I(425))}function Eo(){}var Al=null,$l=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dl=typeof setTimeout=="function"?setTimeout:void 0,oy=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,ay=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(e){return xd.resolve(null).then(e).catch(ly)}:Dl;function ly(e){setTimeout(function(){throw e})}function Wa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ni(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ni(t)}function Tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),qt="__reactFiber$"+ms,li="__reactProps$"+ms,ir="__reactContainer$"+ms,Ml="__reactEvents$"+ms,cy="__reactListeners$"+ms,uy="__reactHandles$"+ms;function Yr(e){var t=e[qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ir]||r[qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wd(e);e!==null;){if(r=e[qt])return r;e=wd(e)}return t}e=r,r=e.parentNode}return null}function bi(e){return e=e[qt]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function ta(e){return e[li]||null}var Ul=[],Bn=-1;function Mr(e){return{current:e}}function ge(e){0>Bn||(e.current=Ul[Bn],Ul[Bn]=null,Bn--)}function pe(e,t){Bn++,Ul[Bn]=e.current,e.current=t}var $r={},qe=Mr($r),et=Mr(!1),an=$r;function ns(e,t){var r=e.type.contextTypes;if(!r)return $r;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tt(e){return e=e.childContextTypes,e!=null}function No(){ge(et),ge(qe)}function _d(e,t,r){if(qe.current!==$r)throw Error(I(168));pe(qe,t),pe(et,r)}function Zf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,K0(e)||"Unknown",s));return _e({},r,n)}function Co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$r,an=qe.current,pe(qe,e),pe(et,et.current),!0}function bd(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Zf(e,t,an),n.__reactInternalMemoizedMergedChildContext=e,ge(et),ge(qe),pe(qe,e)):ge(et),pe(et,r)}var er=null,ra=!1,Ga=!1;function ep(e){er===null?er=[e]:er.push(e)}function dy(e){ra=!0,ep(e)}function Ur(){if(!Ga&&er!==null){Ga=!0;var e=0,t=de;try{var r=er;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}er=null,ra=!1}catch(s){throw er!==null&&(er=er.slice(e+1)),jf(Uc,Ur),s}finally{de=t,Ga=!1}}return null}var qn=[],Hn=0,To=null,Oo=0,gt=[],yt=0,ln=null,tr=1,rr="";function Wr(e,t){qn[Hn++]=Oo,qn[Hn++]=To,To=e,Oo=t}function tp(e,t,r){gt[yt++]=tr,gt[yt++]=rr,gt[yt++]=ln,ln=e;var n=tr;e=rr;var s=32-Ot(n)-1;n&=~(1<<s),r+=1;var i=32-Ot(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,tr=1<<32-Ot(t)+s|r<<s|n,rr=i+e}else tr=1<<i|r<<s|n,rr=e}function Kc(e){e.return!==null&&(Wr(e,1),tp(e,1,0))}function Qc(e){for(;e===To;)To=qn[--Hn],qn[Hn]=null,Oo=qn[--Hn],qn[Hn]=null;for(;e===ln;)ln=gt[--yt],gt[yt]=null,rr=gt[--yt],gt[yt]=null,tr=gt[--yt],gt[yt]=null}var lt=null,at=null,ve=!1,Tt=null;function rp(e,t){var r=vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=Tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ln!==null?{id:tr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,at=null,!0):!1;default:return!1}}function zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(ve){var t=at;if(t){var r=t;if(!kd(e,t)){if(zl(e))throw Error(I(418));t=Tr(r.nextSibling);var n=lt;t&&kd(e,t)?rp(n,r):(e.flags=e.flags&-4097|2,ve=!1,lt=e)}}else{if(zl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ve=!1,lt=e}}}function Sd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Vi(e){if(e!==lt)return!1;if(!ve)return Sd(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=at)){if(zl(e))throw np(),Error(I(418));for(;t;)rp(e,t),t=Tr(t.nextSibling)}if(Sd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){at=Tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?Tr(e.stateNode.nextSibling):null;return!0}function np(){for(var e=at;e;)e=Tr(e.nextSibling)}function ss(){at=lt=null,ve=!1}function Jc(e){Tt===null?Tt=[e]:Tt.push(e)}var hy=cr.ReactCurrentBatchConfig;function Os(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Wi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function sp(e){function t(p,h){if(e){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function r(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function n(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Ir(p,h),p.index=0,p.sibling=null,p}function i(p,h,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,h,m,b){return h===null||h.tag!==6?(h=el(m,p.mode,b),h.return=p,h):(h=s(h,m),h.return=p,h)}function l(p,h,m,b){var S=m.type;return S===Dn?d(p,h,m.props.children,b,m.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gr&&jd(S)===h.type)?(b=s(h,m.props),b.ref=Os(p,h,m),b.return=p,b):(b=go(m.type,m.key,m.props,null,p.mode,b),b.ref=Os(p,h,m),b.return=p,b)}function u(p,h,m,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=tl(m,p.mode,b),h.return=p,h):(h=s(h,m.children||[]),h.return=p,h)}function d(p,h,m,b,S){return h===null||h.tag!==7?(h=rn(m,p.mode,b,S),h.return=p,h):(h=s(h,m),h.return=p,h)}function f(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=el(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case $i:return m=go(h.type,h.key,h.props,null,p.mode,m),m.ref=Os(p,null,h),m.return=p,m;case Ln:return h=tl(h,p.mode,m),h.return=p,h;case gr:var b=h._init;return f(p,b(h._payload),m)}if($s(h)||js(h))return h=rn(h,p.mode,m,null),h.return=p,h;Wi(p,h)}return null}function g(p,h,m,b){var S=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(p,h,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $i:return m.key===S?l(p,h,m,b):null;case Ln:return m.key===S?u(p,h,m,b):null;case gr:return S=m._init,g(p,h,S(m._payload),b)}if($s(m)||js(m))return S!==null?null:d(p,h,m,b,null);Wi(p,m)}return null}function y(p,h,m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(m)||null,a(h,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $i:return p=p.get(b.key===null?m:b.key)||null,l(h,p,b,S);case Ln:return p=p.get(b.key===null?m:b.key)||null,u(h,p,b,S);case gr:var E=b._init;return y(p,h,m,E(b._payload),S)}if($s(b)||js(b))return p=p.get(m)||null,d(h,p,b,S,null);Wi(h,b)}return null}function x(p,h,m,b){for(var S=null,E=null,k=h,C=h=0,O=null;k!==null&&C<m.length;C++){k.index>C?(O=k,k=null):O=k.sibling;var L=g(p,k,m[C],b);if(L===null){k===null&&(k=O);break}e&&k&&L.alternate===null&&t(p,k),h=i(L,h,C),E===null?S=L:E.sibling=L,E=L,k=O}if(C===m.length)return r(p,k),ve&&Wr(p,C),S;if(k===null){for(;C<m.length;C++)k=f(p,m[C],b),k!==null&&(h=i(k,h,C),E===null?S=k:E.sibling=k,E=k);return ve&&Wr(p,C),S}for(k=n(p,k);C<m.length;C++)O=y(k,p,C,m[C],b),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),h=i(O,h,C),E===null?S=O:E.sibling=O,E=O);return e&&k.forEach(function(B){return t(p,B)}),ve&&Wr(p,C),S}function v(p,h,m,b){var S=js(m);if(typeof S!="function")throw Error(I(150));if(m=S.call(m),m==null)throw Error(I(151));for(var E=S=null,k=h,C=h=0,O=null,L=m.next();k!==null&&!L.done;C++,L=m.next()){k.index>C?(O=k,k=null):O=k.sibling;var B=g(p,k,L.value,b);if(B===null){k===null&&(k=O);break}e&&k&&B.alternate===null&&t(p,k),h=i(B,h,C),E===null?S=B:E.sibling=B,E=B,k=O}if(L.done)return r(p,k),ve&&Wr(p,C),S;if(k===null){for(;!L.done;C++,L=m.next())L=f(p,L.value,b),L!==null&&(h=i(L,h,C),E===null?S=L:E.sibling=L,E=L);return ve&&Wr(p,C),S}for(k=n(p,k);!L.done;C++,L=m.next())L=y(k,p,C,L.value,b),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?C:L.key),h=i(L,h,C),E===null?S=L:E.sibling=L,E=L);return e&&k.forEach(function(Z){return t(p,Z)}),ve&&Wr(p,C),S}function _(p,h,m,b){if(typeof m=="object"&&m!==null&&m.type===Dn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case $i:e:{for(var S=m.key,E=h;E!==null;){if(E.key===S){if(S=m.type,S===Dn){if(E.tag===7){r(p,E.sibling),h=s(E,m.props.children),h.return=p,p=h;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gr&&jd(S)===E.type){r(p,E.sibling),h=s(E,m.props),h.ref=Os(p,E,m),h.return=p,p=h;break e}r(p,E);break}else t(p,E);E=E.sibling}m.type===Dn?(h=rn(m.props.children,p.mode,b,m.key),h.return=p,p=h):(b=go(m.type,m.key,m.props,null,p.mode,b),b.ref=Os(p,h,m),b.return=p,p=b)}return o(p);case Ln:e:{for(E=m.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){r(p,h.sibling),h=s(h,m.children||[]),h.return=p,p=h;break e}else{r(p,h);break}else t(p,h);h=h.sibling}h=tl(m,p.mode,b),h.return=p,p=h}return o(p);case gr:return E=m._init,_(p,h,E(m._payload),b)}if($s(m))return x(p,h,m,b);if(js(m))return v(p,h,m,b);Wi(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(r(p,h.sibling),h=s(h,m),h.return=p,p=h):(r(p,h),h=el(m,p.mode,b),h.return=p,p=h),o(p)):r(p,h)}return _}var is=sp(!0),ip=sp(!1),Po=Mr(null),Ro=null,Vn=null,Yc=null;function Xc(){Yc=Vn=Ro=null}function Zc(e){var t=Po.current;ge(Po),e._currentValue=t}function Bl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xn(e,t){Ro=e,Yc=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(Yc!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(Ro===null)throw Error(I(308));Vn=e,Ro.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var Xr=null;function eu(e){Xr===null?Xr=[e]:Xr.push(e)}function op(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,eu(t)):(r.next=s.next,s.next=r),t.interleaved=r,or(e,n)}function or(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yr=!1;function tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ap(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,or(e,r)}return s=n.interleaved,s===null?(t.next=t,eu(n)):(t.next=s.next,s.next=t),n.interleaved=t,or(e,r)}function co(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zc(e,r)}}function Ed(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Io(e,t,r,n){var s=e.updateQueue;yr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var g=a.lane,y=a.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(g=t,y=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(y,f,g);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(y,f,g):x,g==null)break e;f=_e({},f,g);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);un|=o,e.lanes=o,e.memoizedState=f}}function Nd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var ki={},Wt=Mr(ki),ci=Mr(ki),ui=Mr(ki);function Zr(e){if(e===ki)throw Error(I(174));return e}function ru(e,t){switch(pe(ui,t),pe(ci,e),pe(Wt,ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bl(t,e)}ge(Wt),pe(Wt,t)}function os(){ge(Wt),ge(ci),ge(ui)}function lp(e){Zr(ui.current);var t=Zr(Wt.current),r=bl(t,e.type);t!==r&&(pe(ci,e),pe(Wt,r))}function nu(e){ci.current===e&&(ge(Wt),ge(ci))}var xe=Mr(0);function Ao(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ka=[];function su(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var uo=cr.ReactCurrentDispatcher,Qa=cr.ReactCurrentBatchConfig,cn=0,we=null,Te=null,Ae=null,$o=!1,Hs=!1,di=0,fy=0;function ze(){throw Error(I(321))}function iu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function ou(e,t,r,n,s,i){if(cn=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=e===null||e.memoizedState===null?yy:vy,e=r(n,s),Hs){i=0;do{if(Hs=!1,di=0,25<=i)throw Error(I(301));i+=1,Ae=Te=null,t.updateQueue=null,uo.current=xy,e=r(n,s)}while(Hs)}if(uo.current=Lo,t=Te!==null&&Te.next!==null,cn=0,Ae=Te=we=null,$o=!1,t)throw Error(I(300));return e}function au(){var e=di!==0;return di=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?we.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function bt(){if(Te===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ae===null?we.memoizedState:Ae.next;if(t!==null)Ae=t,Te=e;else{if(e===null)throw Error(I(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ae===null?we.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function hi(e,t){return typeof t=="function"?t(e):t}function Ja(e){var t=bt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Te,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((cn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,we.lanes|=d,un|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Rt(n,t.memoizedState)||(Ze=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,un|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ya(e){var t=bt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Rt(i,t.memoizedState)||(Ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function cp(){}function up(e,t){var r=we,n=bt(),s=t(),i=!Rt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ze=!0),n=n.queue,lu(fp.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(r.flags|=2048,fi(9,hp.bind(null,r,n,s,t),void 0,null),$e===null)throw Error(I(349));cn&30||dp(r,t,s)}return s}function dp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hp(e,t,r,n){t.value=r,t.getSnapshot=n,pp(t)&&mp(e)}function fp(e,t,r){return r(function(){pp(t)&&mp(e)})}function pp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function mp(e){var t=or(e,1);t!==null&&Pt(t,e,1,-1)}function Cd(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t.queue=e,e=e.dispatch=gy.bind(null,we,e),[t.memoizedState,e]}function fi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gp(){return bt().memoizedState}function ho(e,t,r,n){var s=Bt();we.flags|=e,s.memoizedState=fi(1|t,r,void 0,n===void 0?null:n)}function na(e,t,r,n){var s=bt();n=n===void 0?null:n;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,n!==null&&iu(n,o.deps)){s.memoizedState=fi(t,r,i,n);return}}we.flags|=e,s.memoizedState=fi(1|t,r,i,n)}function Td(e,t){return ho(8390656,8,e,t)}function lu(e,t){return na(2048,8,e,t)}function yp(e,t){return na(4,2,e,t)}function vp(e,t){return na(4,4,e,t)}function xp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wp(e,t,r){return r=r!=null?r.concat([e]):null,na(4,4,xp.bind(null,t,e),r)}function cu(){}function _p(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bp(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kp(e,t,r){return cn&21?(Rt(r,t)||(r=Cf(),we.lanes|=r,un|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=r)}function py(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=Qa.transition;Qa.transition={};try{e(!1),t()}finally{de=r,Qa.transition=n}}function Sp(){return bt().memoizedState}function my(e,t,r){var n=Rr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jp(e))Ep(t,r);else if(r=op(e,t,r,n),r!==null){var s=Ge();Pt(r,e,n,s),Np(r,t,n)}}function gy(e,t,r){var n=Rr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jp(e))Ep(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Rt(a,o)){var l=t.interleaved;l===null?(s.next=s,eu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=op(e,t,s,n),r!==null&&(s=Ge(),Pt(r,e,n,s),Np(r,t,n))}}function jp(e){var t=e.alternate;return e===we||t!==null&&t===we}function Ep(e,t){Hs=$o=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Np(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zc(e,r)}}var Lo={readContext:_t,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},yy={readContext:_t,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Td,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ho(4194308,4,xp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=my.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:Cd,useDebugValue:cu,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=Cd(!1),t=e[0];return e=py.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,s=Bt();if(ve){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),$e===null)throw Error(I(349));cn&30||dp(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Td(fp.bind(null,n,i,e),[e]),n.flags|=2048,fi(9,hp.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Bt(),t=$e.identifierPrefix;if(ve){var r=rr,n=tr;r=(n&~(1<<32-Ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=di++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vy={readContext:_t,useCallback:_p,useContext:_t,useEffect:lu,useImperativeHandle:wp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:bp,useReducer:Ja,useRef:gp,useState:function(){return Ja(hi)},useDebugValue:cu,useDeferredValue:function(e){var t=bt();return kp(t,Te.memoizedState,e)},useTransition:function(){var e=Ja(hi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:cp,useSyncExternalStore:up,useId:Sp,unstable_isNewReconciler:!1},xy={readContext:_t,useCallback:_p,useContext:_t,useEffect:lu,useImperativeHandle:wp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:bp,useReducer:Ya,useRef:gp,useState:function(){return Ya(hi)},useDebugValue:cu,useDeferredValue:function(e){var t=bt();return Te===null?t.memoizedState=e:kp(t,Te.memoizedState,e)},useTransition:function(){var e=Ya(hi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:cp,useSyncExternalStore:up,useId:Sp,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ql(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sa={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ge(),s=Rr(e),i=nr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Or(e,i,s),t!==null&&(Pt(t,e,s,n),co(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ge(),s=Rr(e),i=nr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Or(e,i,s),t!==null&&(Pt(t,e,s,n),co(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ge(),n=Rr(e),s=nr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Or(e,s,n),t!==null&&(Pt(t,e,n,r),co(t,e,n))}};function Od(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ii(r,n)||!ii(s,i):!0}function Cp(e,t,r){var n=!1,s=$r,i=t.contextType;return typeof i=="object"&&i!==null?i=_t(i):(s=tt(t)?an:qe.current,n=t.contextTypes,i=(n=n!=null)?ns(e,s):$r),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Pd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function Hl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},tu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=_t(i):(i=tt(t)?an:qe.current,s.context=ns(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ql(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Io(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var r="",n=t;do r+=G0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Vl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wy=typeof WeakMap=="function"?WeakMap:Map;function Tp(e,t,r){r=nr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mo||(Mo=!0,tc=n),Vl(e,t)},r}function Op(e,t,r){r=nr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Vl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Vl(e,t),typeof n!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Rd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wy;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ay.bind(null,e,t,r),t.then(e,e))}function Id(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ad(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nr(-1,1),t.tag=2,Or(r,t,1))),r.lanes|=1),e)}var _y=cr.ReactCurrentOwner,Ze=!1;function We(e,t,r,n){t.child=e===null?ip(t,null,r,n):is(t,e.child,r,n)}function $d(e,t,r,n,s){r=r.render;var i=t.ref;return Xn(t,s),n=ou(e,t,r,n,i,s),r=au(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(ve&&r&&Kc(t),t.flags|=1,We(e,t,n,s),t.child)}function Ld(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!yu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Pp(e,t,i,n,s)):(e=go(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ii,r(o,n)&&e.ref===t.ref)return ar(e,t,s)}return t.flags|=1,e=Ir(i,n),e.ref=t.ref,e.return=t,t.child=e}function Pp(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ii(i,n)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,ar(e,t,s)}return Wl(e,t,r,n,s)}function Rp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Gn,ot),ot|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Gn,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pe(Gn,ot),ot|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pe(Gn,ot),ot|=n;return We(e,t,s,r),t.child}function Ip(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,r,n,s){var i=tt(r)?an:qe.current;return i=ns(t,i),Xn(t,s),r=ou(e,t,r,n,i,s),n=au(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(ve&&n&&Kc(t),t.flags|=1,We(e,t,r,s),t.child)}function Dd(e,t,r,n,s){if(tt(r)){var i=!0;Co(t)}else i=!1;if(Xn(t,s),t.stateNode===null)fo(e,t),Cp(t,r,n),Hl(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=tt(r)?an:qe.current,u=ns(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Pd(t,o,n,u),yr=!1;var g=t.memoizedState;o.state=g,Io(t,n,o,s),l=t.memoizedState,a!==n||g!==l||et.current||yr?(typeof d=="function"&&(ql(t,r,d,n),l=t.memoizedState),(a=yr||Od(t,r,a,n,g,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ap(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Et(t.type,a),o.props=u,f=t.pendingProps,g=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=_t(l):(l=tt(r)?an:qe.current,l=ns(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&Pd(t,o,n,l),yr=!1,g=t.memoizedState,o.state=g,Io(t,n,o,s);var x=t.memoizedState;a!==f||g!==x||et.current||yr?(typeof y=="function"&&(ql(t,r,y,n),x=t.memoizedState),(u=yr||Od(t,r,u,n,g,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Gl(e,t,r,n,i,s)}function Gl(e,t,r,n,s,i){Ip(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&bd(t,r,!1),ar(e,t,i);n=t.stateNode,_y.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=is(t,e.child,null,i),t.child=is(t,null,a,i)):We(e,t,a,i),t.memoizedState=n.state,s&&bd(t,r,!0),t.child}function Ap(e){var t=e.stateNode;t.pendingContext?_d(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_d(e,t.context,!1),ru(e,t.containerInfo)}function Md(e,t,r,n,s){return ss(),Jc(s),t.flags|=256,We(e,t,r,n),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function $p(e,t,r){var n=t.pendingProps,s=xe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(xe,s&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=aa(o,n,0,null),e=rn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ql(r),t.memoizedState=Kl,e):uu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return by(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ir(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ir(a,i):(i=rn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Ql(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Kl,n}return i=e.child,e=i.sibling,n=Ir(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function uu(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gi(e,t,r,n){return n!==null&&Jc(n),is(t,e.child,null,r),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function by(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Xa(Error(I(422))),Gi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=aa({mode:"visible",children:n.children},s,0,null),i=rn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&is(t,e.child,null,o),t.child.memoizedState=Ql(o),t.memoizedState=Kl,i);if(!(t.mode&1))return Gi(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(I(419)),n=Xa(i,n,void 0),Gi(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ze||a){if(n=$e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,or(e,s),Pt(n,e,s,-1))}return gu(),n=Xa(Error(I(421))),Gi(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$y.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,at=Tr(s.nextSibling),lt=t,ve=!0,Tt=null,e!==null&&(gt[yt++]=tr,gt[yt++]=rr,gt[yt++]=ln,tr=e.id,rr=e.overflow,ln=t),t=uu(t,n.children),t.flags|=4096,t)}function Ud(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Bl(e.return,t,r)}function Za(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Lp(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(We(e,t,n.children,r),n=xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ud(e,r,t);else if(e.tag===19)Ud(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pe(xe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ao(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Za(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ao(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Za(t,!0,r,null,i);break;case"together":Za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=Ir(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ir(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ky(e,t,r){switch(t.tag){case 3:Ap(t),ss();break;case 5:lp(t);break;case 1:tt(t.type)&&Co(t);break;case 4:ru(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;pe(Po,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pe(xe,xe.current&1),t.flags|=128,null):r&t.child.childLanes?$p(e,t,r):(pe(xe,xe.current&1),e=ar(e,t,r),e!==null?e.sibling:null);pe(xe,xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Lp(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(xe,xe.current),n)break;return null;case 22:case 23:return t.lanes=0,Rp(e,t,r)}return ar(e,t,r)}var Dp,Jl,Mp,Up;Dp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jl=function(){};Mp=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Zr(Wt.current);var i=null;switch(r){case"input":s=vl(e,s),n=vl(e,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=_l(e,s),n=_l(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Eo)}kl(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Up=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ps(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Sy(e,t,r){var n=t.pendingProps;switch(Qc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return tt(t.type)&&No(),Fe(t),null;case 3:return n=t.stateNode,os(),ge(et),ge(qe),su(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(sc(Tt),Tt=null))),Jl(e,t),Fe(t),null;case 5:nu(t);var s=Zr(ui.current);if(r=t.type,e!==null&&t.stateNode!=null)Mp(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Fe(t),null}if(e=Zr(Wt.current),Vi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[qt]=t,n[li]=i,e=(t.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(s=0;s<Ds.length;s++)me(Ds[s],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":Ku(n,i),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},me("invalid",n);break;case"textarea":Ju(n,i),me("invalid",n)}kl(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hi(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hi(n.textContent,a,e),s=["children",""+a]):Xs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",n)}switch(r){case"input":Li(n),Qu(n,i,!0);break;case"textarea":Li(n),Yu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Eo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ff(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[qt]=t,e[li]=n,Dp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sl(r,n),r){case"dialog":me("cancel",e),me("close",e),s=n;break;case"iframe":case"object":case"embed":me("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ds.length;s++)me(Ds[s],e);s=n;break;case"source":me("error",e),s=n;break;case"img":case"image":case"link":me("error",e),me("load",e),s=n;break;case"details":me("toggle",e),s=n;break;case"input":Ku(e,n),s=vl(e,n),me("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),me("invalid",e);break;case"textarea":Ju(e,n),s=_l(e,n),me("invalid",e);break;default:s=n}kl(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pf(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zs(e,l):typeof l=="number"&&Zs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&me("scroll",e):l!=null&&Ac(e,i,l,o))}switch(r){case"input":Li(e),Qu(e,n,!1);break;case"textarea":Li(e),Yu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ar(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Kn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Kn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Eo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Up(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Zr(ui.current),Zr(Wt.current),Vi(t)){if(n=t.stateNode,r=t.memoizedProps,n[qt]=t,(i=n.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:Hi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qt]=t,t.stateNode=n}return Fe(t),null;case 13:if(ge(xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&at!==null&&t.mode&1&&!(t.flags&128))np(),ss(),t.flags|=98560,i=!1;else if(i=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[qt]=t}else ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),i=!1}else Tt!==null&&(sc(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Oe===0&&(Oe=3):gu())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return os(),Jl(e,t),e===null&&oi(t.stateNode.containerInfo),Fe(t),null;case 10:return Zc(t.type._context),Fe(t),null;case 17:return tt(t.type)&&No(),Fe(t),null;case 19:if(ge(xe),i=t.memoizedState,i===null)return Fe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ps(i,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ao(e),o!==null){for(t.flags|=128,Ps(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&je()>ls&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ao(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ps(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ve)return Fe(t),null}else 2*je()-i.renderingStartTime>ls&&r!==1073741824&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=je(),t.sibling=null,r=xe.current,pe(xe,n?r&1|2:r&1),t):(Fe(t),null);case 22:case 23:return mu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ot&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function jy(e,t){switch(Qc(t),t.tag){case 1:return tt(t.type)&&No(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),ge(et),ge(qe),su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nu(t),null;case 13:if(ge(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(xe),null;case 4:return os(),null;case 10:return Zc(t.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var Ki=!1,Be=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,U=null;function Wn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(e,t,n)}else r.current=null}function Yl(e,t,r){try{r()}catch(n){be(e,t,n)}}var zd=!1;function Ny(e,t){if(Al=ko,e=Hf(),Gc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)g=f,f=y;for(;;){if(f===e)break t;if(g===r&&++u===s&&(a=o),g===i&&++d===n&&(l=o),(y=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($l={focusedElem:e,selectionRange:r},ko=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,_=x.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Et(t.type,v),_);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){be(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return x=zd,zd=!1,x}function Vs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yl(t,r,i)}s=s.next}while(s!==n)}}function ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Xl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zp(e){var t=e.alternate;t!==null&&(e.alternate=null,zp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[li],delete t[Ml],delete t[cy],delete t[uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fp(e){return e.tag===5||e.tag===3||e.tag===4}function Fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Eo));else if(n!==4&&(e=e.child,e!==null))for(Zl(e,t,r),e=e.sibling;e!==null;)Zl(e,t,r),e=e.sibling}function ec(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ec(e,t,r),e=e.sibling;e!==null;)ec(e,t,r),e=e.sibling}var Le=null,Nt=!1;function fr(e,t,r){for(r=r.child;r!==null;)Bp(e,t,r),r=r.sibling}function Bp(e,t,r){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Yo,r)}catch{}switch(r.tag){case 5:Be||Wn(r,t);case 6:var n=Le,s=Nt;Le=null,fr(e,t,r),Le=n,Nt=s,Le!==null&&(Nt?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(Nt?(e=Le,r=r.stateNode,e.nodeType===8?Wa(e.parentNode,r):e.nodeType===1&&Wa(e,r),ni(e)):Wa(Le,r.stateNode));break;case 4:n=Le,s=Nt,Le=r.stateNode.containerInfo,Nt=!0,fr(e,t,r),Le=n,Nt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yl(r,t,o),s=s.next}while(s!==n)}fr(e,t,r);break;case 1:if(!Be&&(Wn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){be(r,t,a)}fr(e,t,r);break;case 21:fr(e,t,r);break;case 22:r.mode&1?(Be=(n=Be)||r.memoizedState!==null,fr(e,t,r),Be=n):fr(e,t,r);break;default:fr(e,t,r)}}function Bd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ey),t.forEach(function(n){var s=Ly.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Nt=!1;break e;case 3:Le=a.stateNode.containerInfo,Nt=!0;break e;case 4:Le=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Le===null)throw Error(I(160));Bp(i,o,s),Le=null,Nt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qp(t,e),t=t.sibling}function qp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),zt(e),n&4){try{Vs(3,e,e.return),ia(3,e)}catch(v){be(e,e.return,v)}try{Vs(5,e,e.return)}catch(v){be(e,e.return,v)}}break;case 1:jt(t,e),zt(e),n&512&&r!==null&&Wn(r,r.return);break;case 5:if(jt(t,e),zt(e),n&512&&r!==null&&Wn(r,r.return),e.flags&32){var s=e.stateNode;try{Zs(s,"")}catch(v){be(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&df(s,i),Sl(a,o);var u=Sl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?gf(s,f):d==="dangerouslySetInnerHTML"?pf(s,f):d==="children"?Zs(s,f):Ac(s,d,f,u)}switch(a){case"input":xl(s,i);break;case"textarea":hf(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Kn(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Kn(s,!!i.multiple,i.defaultValue,!0):Kn(s,!!i.multiple,i.multiple?[]:"",!1))}s[li]=i}catch(v){be(e,e.return,v)}}break;case 6:if(jt(t,e),zt(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){be(e,e.return,v)}}break;case 3:if(jt(t,e),zt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(v){be(e,e.return,v)}break;case 4:jt(t,e),zt(e);break;case 13:jt(t,e),zt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fu=je())),n&4&&Bd(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Be=(u=Be)||d,jt(t,e),Be=u):jt(t,e),zt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(f=U=d;U!==null;){switch(g=U,y=g.child,g.tag){case 0:case 11:case 14:case 15:Vs(4,g,g.return);break;case 1:Wn(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){be(n,r,v)}}break;case 5:Wn(g,g.return);break;case 22:if(g.memoizedState!==null){Hd(f);continue}}y!==null?(y.return=g,U=y):Hd(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mf("display",o))}catch(v){be(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){be(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jt(t,e),zt(e),n&4&&Bd(e);break;case 21:break;default:jt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fp(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zs(s,""),n.flags&=-33);var i=Fd(e);ec(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Fd(e);Zl(e,a,o);break;default:throw Error(I(161))}}catch(l){be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cy(e,t,r){U=e,Hp(e)}function Hp(e,t,r){for(var n=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ki;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Be;a=Ki;var u=Be;if(Ki=o,(Be=l)&&!u)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Vd(s):l!==null?(l.return=o,U=l):Vd(s);for(;i!==null;)U=i,Hp(i),i=i.sibling;U=s,Ki=a,Be=u}qd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):qd(e)}}function qd(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||ia(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Be)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Et(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Nd(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Nd(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ni(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Be||t.flags&512&&Xl(t)}catch(g){be(t,t.return,g)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function Hd(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function Vd(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ia(4,t)}catch(l){be(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){be(t,s,l)}}var i=t.return;try{Xl(t)}catch(l){be(t,i,l)}break;case 5:var o=t.return;try{Xl(t)}catch(l){be(t,o,l)}}}catch(l){be(t,t.return,l)}if(t===e){U=null;break}var a=t.sibling;if(a!==null){a.return=t.return,U=a;break}U=t.return}}var Ty=Math.ceil,Do=cr.ReactCurrentDispatcher,du=cr.ReactCurrentOwner,xt=cr.ReactCurrentBatchConfig,ae=0,$e=null,Ne=null,De=0,ot=0,Gn=Mr(0),Oe=0,pi=null,un=0,oa=0,hu=0,Ws=null,Ye=null,fu=0,ls=1/0,Xt=null,Mo=!1,tc=null,Pr=null,Qi=!1,Sr=null,Uo=0,Gs=0,rc=null,po=-1,mo=0;function Ge(){return ae&6?je():po!==-1?po:po=je()}function Rr(e){return e.mode&1?ae&2&&De!==0?De&-De:hy.transition!==null?(mo===0&&(mo=Cf()),mo):(e=de,e!==0||(e=window.event,e=e===void 0?16:$f(e.type)),e):1}function Pt(e,t,r,n){if(50<Gs)throw Gs=0,rc=null,Error(I(185));wi(e,r,n),(!(ae&2)||e!==$e)&&(e===$e&&(!(ae&2)&&(oa|=r),Oe===4&&wr(e,De)),rt(e,n),r===1&&ae===0&&!(t.mode&1)&&(ls=je()+500,ra&&Ur()))}function rt(e,t){var r=e.callbackNode;hg(e,t);var n=bo(e,e===$e?De:0);if(n===0)r!==null&&ed(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ed(r),t===1)e.tag===0?dy(Wd.bind(null,e)):ep(Wd.bind(null,e)),ay(function(){!(ae&6)&&Ur()}),r=null;else{switch(Tf(n)){case 1:r=Uc;break;case 4:r=Ef;break;case 16:r=_o;break;case 536870912:r=Nf;break;default:r=_o}r=Xp(r,Vp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vp(e,t){if(po=-1,mo=0,ae&6)throw Error(I(327));var r=e.callbackNode;if(Zn()&&e.callbackNode!==r)return null;var n=bo(e,e===$e?De:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zo(e,n);else{t=n;var s=ae;ae|=2;var i=Gp();($e!==e||De!==t)&&(Xt=null,ls=je()+500,tn(e,t));do try{Ry();break}catch(a){Wp(e,a)}while(1);Xc(),Do.current=i,ae=s,Ne!==null?t=0:($e=null,De=0,t=Oe)}if(t!==0){if(t===2&&(s=Tl(e),s!==0&&(n=s,t=nc(e,s))),t===1)throw r=pi,tn(e,0),wr(e,n),rt(e,je()),r;if(t===6)wr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Oy(s)&&(t=zo(e,n),t===2&&(i=Tl(e),i!==0&&(n=i,t=nc(e,i))),t===1))throw r=pi,tn(e,0),wr(e,n),rt(e,je()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:Gr(e,Ye,Xt);break;case 3:if(wr(e,n),(n&130023424)===n&&(t=fu+500-je(),10<t)){if(bo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dl(Gr.bind(null,e,Ye,Xt),t);break}Gr(e,Ye,Xt);break;case 4:if(wr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ot(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ty(n/1960))-n,10<n){e.timeoutHandle=Dl(Gr.bind(null,e,Ye,Xt),n);break}Gr(e,Ye,Xt);break;case 5:Gr(e,Ye,Xt);break;default:throw Error(I(329))}}}return rt(e,je()),e.callbackNode===r?Vp.bind(null,e):null}function nc(e,t){var r=Ws;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=zo(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&sc(t)),e}function sc(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Oy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Rt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t){for(t&=~hu,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ot(t),n=1<<r;e[r]=-1,t&=~n}}function Wd(e){if(ae&6)throw Error(I(327));Zn();var t=bo(e,0);if(!(t&1))return rt(e,je()),null;var r=zo(e,t);if(e.tag!==0&&r===2){var n=Tl(e);n!==0&&(t=n,r=nc(e,n))}if(r===1)throw r=pi,tn(e,0),wr(e,t),rt(e,je()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,Ye,Xt),rt(e,je()),null}function pu(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(ls=je()+500,ra&&Ur())}}function dn(e){Sr!==null&&Sr.tag===0&&!(ae&6)&&Zn();var t=ae;ae|=1;var r=xt.transition,n=de;try{if(xt.transition=null,de=1,e)return e()}finally{de=n,xt.transition=r,ae=t,!(ae&6)&&Ur()}}function mu(){ot=Gn.current,ge(Gn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oy(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(Qc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&No();break;case 3:os(),ge(et),ge(qe),su();break;case 5:nu(n);break;case 4:os();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:Zc(n.type._context);break;case 22:case 23:mu()}r=r.return}if($e=e,Ne=e=Ir(e.current,null),De=ot=t,Oe=0,pi=null,hu=oa=un=0,Ye=Ws=null,Xr!==null){for(t=0;t<Xr.length;t++)if(r=Xr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Xr=null}return e}function Wp(e,t){do{var r=Ne;try{if(Xc(),uo.current=Lo,$o){for(var n=we.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$o=!1}if(cn=0,Ae=Te=we=null,Hs=!1,di=0,du.current=null,r===null||r.return===null){Oe=1,pi=t,Ne=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=De,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Id(o);if(y!==null){y.flags&=-257,Ad(y,o,a,i,t),y.mode&1&&Rd(i,u,t),t=y,l=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){Rd(i,u,t),gu();break e}l=Error(I(426))}}else if(ve&&a.mode&1){var _=Id(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ad(_,o,a,i,t),Jc(as(l,a));break e}}i=l=as(l,a),Oe!==4&&(Oe=2),Ws===null?Ws=[i]:Ws.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Tp(i,l,t);Ed(i,p);break e;case 1:a=l;var h=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pr===null||!Pr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Op(i,a,t);Ed(i,b);break e}}i=i.return}while(i!==null)}Qp(r)}catch(S){t=S,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(1)}function Gp(){var e=Do.current;return Do.current=Lo,e===null?Lo:e}function gu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),$e===null||!(un&268435455)&&!(oa&268435455)||wr($e,De)}function zo(e,t){var r=ae;ae|=2;var n=Gp();($e!==e||De!==t)&&(Xt=null,tn(e,t));do try{Py();break}catch(s){Wp(e,s)}while(1);if(Xc(),ae=r,Do.current=n,Ne!==null)throw Error(I(261));return $e=null,De=0,Oe}function Py(){for(;Ne!==null;)Kp(Ne)}function Ry(){for(;Ne!==null&&!ng();)Kp(Ne)}function Kp(e){var t=Yp(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Qp(e):Ne=t,du.current=null}function Qp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jy(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Ne=null;return}}else if(r=Sy(r,t,ot),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Oe===0&&(Oe=5)}function Gr(e,t,r){var n=de,s=xt.transition;try{xt.transition=null,de=1,Iy(e,t,r,n)}finally{xt.transition=s,de=n}return null}function Iy(e,t,r,n){do Zn();while(Sr!==null);if(ae&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(fg(e,i),e===$e&&(Ne=$e=null,De=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qi||(Qi=!0,Xp(_o,function(){return Zn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xt.transition,xt.transition=null;var o=de;de=1;var a=ae;ae|=4,du.current=null,Ny(e,r),qp(r,e),Zg($l),ko=!!Al,$l=Al=null,e.current=r,Cy(r),sg(),ae=a,de=o,xt.transition=i}else e.current=r;if(Qi&&(Qi=!1,Sr=e,Uo=s),i=e.pendingLanes,i===0&&(Pr=null),ag(r.stateNode),rt(e,je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Mo)throw Mo=!1,e=tc,tc=null,e;return Uo&1&&e.tag!==0&&Zn(),i=e.pendingLanes,i&1?e===rc?Gs++:(Gs=0,rc=e):Gs=0,Ur(),null}function Zn(){if(Sr!==null){var e=Tf(Uo),t=xt.transition,r=de;try{if(xt.transition=null,de=16>e?16:e,Sr===null)var n=!1;else{if(e=Sr,Sr=null,Uo=0,ae&6)throw Error(I(331));var s=ae;for(ae|=4,U=e.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Vs(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var g=d.sibling,y=d.return;if(zp(d),d===u){U=null;break}if(g!==null){g.return=y,U=g;break}U=y}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vs(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,U=p;break e}U=i.return}}var h=e.current;for(U=h;U!==null;){o=U;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,U=m;else e:for(o=h;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ia(9,a)}}catch(S){be(a,a.return,S)}if(a===o){U=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,U=b;break e}U=a.return}}if(ae=s,Ur(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Yo,e)}catch{}n=!0}return n}finally{de=r,xt.transition=t}}return!1}function Gd(e,t,r){t=as(r,t),t=Tp(e,t,1),e=Or(e,t,1),t=Ge(),e!==null&&(wi(e,1,t),rt(e,t))}function be(e,t,r){if(e.tag===3)Gd(e,e,r);else for(;t!==null;){if(t.tag===3){Gd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pr===null||!Pr.has(n))){e=as(r,e),e=Op(t,e,1),t=Or(t,e,1),e=Ge(),t!==null&&(wi(t,1,e),rt(t,e));break}}t=t.return}}function Ay(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(De&r)===r&&(Oe===4||Oe===3&&(De&130023424)===De&&500>je()-fu?tn(e,0):hu|=r),rt(e,t)}function Jp(e,t){t===0&&(e.mode&1?(t=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):t=1);var r=Ge();e=or(e,t),e!==null&&(wi(e,t,r),rt(e,r))}function $y(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jp(e,r)}function Ly(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),Jp(e,r)}var Yp;Yp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ze=!1,ky(e,t,r);Ze=!!(e.flags&131072)}else Ze=!1,ve&&t.flags&1048576&&tp(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fo(e,t),e=t.pendingProps;var s=ns(t,qe.current);Xn(t,r),s=ou(null,t,n,e,s,r);var i=au();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(n)?(i=!0,Co(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tu(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,Hl(t,n,e,r),t=Gl(null,t,n,!0,i,r)):(t.tag=0,ve&&i&&Kc(t),We(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=My(n),e=Et(n,e),s){case 0:t=Wl(null,t,n,e,r);break e;case 1:t=Dd(null,t,n,e,r);break e;case 11:t=$d(null,t,n,e,r);break e;case 14:t=Ld(null,t,n,Et(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),Wl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),Dd(e,t,n,s,r);case 3:e:{if(Ap(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ap(e,t),Io(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=as(Error(I(423)),t),t=Md(e,t,n,r,s);break e}else if(n!==s){s=as(Error(I(424)),t),t=Md(e,t,n,r,s);break e}else for(at=Tr(t.stateNode.containerInfo.firstChild),lt=t,ve=!0,Tt=null,r=ip(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ss(),n===s){t=ar(e,t,r);break e}We(e,t,n,r)}t=t.child}return t;case 5:return lp(t),e===null&&Fl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ll(n,s)?o=null:i!==null&&Ll(n,i)&&(t.flags|=32),Ip(e,t),We(e,t,o,r),t.child;case 6:return e===null&&Fl(t),null;case 13:return $p(e,t,r);case 4:return ru(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=is(t,null,n,r):We(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),$d(e,t,n,s,r);case 7:return We(e,t,t.pendingProps,r),t.child;case 8:return We(e,t,t.pendingProps.children,r),t.child;case 12:return We(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,pe(Po,n._currentValue),n._currentValue=o,i!==null)if(Rt(i.value,o)){if(i.children===s.children&&!et.current){t=ar(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=nr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Bl(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Bl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}We(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Xn(t,r),s=_t(s),n=n(s),t.flags|=1,We(e,t,n,r),t.child;case 14:return n=t.type,s=Et(n,t.pendingProps),s=Et(n.type,s),Ld(e,t,n,s,r);case 15:return Pp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),fo(e,t),t.tag=1,tt(n)?(e=!0,Co(t)):e=!1,Xn(t,r),Cp(t,n,s),Hl(t,n,s,r),Gl(null,t,n,!0,e,r);case 19:return Lp(e,t,r);case 22:return Rp(e,t,r)}throw Error(I(156,t.tag))};function Xp(e,t){return jf(e,t)}function Dy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,r,n){return new Dy(e,t,r,n)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function My(e){if(typeof e=="function")return yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lc)return 11;if(e===Dc)return 14}return 2}function Ir(e,t){var r=e.alternate;return r===null?(r=vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function go(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")yu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dn:return rn(r.children,s,i,t);case $c:o=8,s|=8;break;case pl:return e=vt(12,r,t,s|2),e.elementType=pl,e.lanes=i,e;case ml:return e=vt(13,r,t,s),e.elementType=ml,e.lanes=i,e;case gl:return e=vt(19,r,t,s),e.elementType=gl,e.lanes=i,e;case lf:return aa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case of:o=10;break e;case af:o=9;break e;case Lc:o=11;break e;case Dc:o=14;break e;case gr:o=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=vt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function rn(e,t,r,n){return e=vt(7,e,n,t),e.lanes=r,e}function aa(e,t,r,n){return e=vt(22,e,n,t),e.elementType=lf,e.lanes=r,e.stateNode={isHidden:!1},e}function el(e,t,r){return e=vt(6,e,null,t),e.lanes=r,e}function tl(e,t,r){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uy(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vu(e,t,r,n,s,i,o,a,l){return e=new Uy(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tu(i),e}function zy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zp(e){if(!e)return $r;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(tt(r))return Zf(e,r,t)}return t}function em(e,t,r,n,s,i,o,a,l){return e=vu(r,n,!0,e,s,i,o,a,l),e.context=Zp(null),r=e.current,n=Ge(),s=Rr(r),i=nr(n,s),i.callback=t??null,Or(r,i,s),e.current.lanes=s,wi(e,s,n),rt(e,n),e}function la(e,t,r,n){var s=t.current,i=Ge(),o=Rr(s);return r=Zp(r),t.context===null?t.context=r:t.pendingContext=r,t=nr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Or(s,t,o),e!==null&&(Pt(e,s,o,i),co(e,s,o)),o}function Fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xu(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}function Fy(){return null}var tm=typeof reportError=="function"?reportError:function(e){console.error(e)};function wu(e){this._internalRoot=e}ca.prototype.render=wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));la(e,t,null,null)};ca.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dn(function(){la(null,e,null,null)}),t[ir]=null}};function ca(e){this._internalRoot=e}ca.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xr.length&&t!==0&&t<xr[r].priority;r++);xr.splice(r,0,e),r===0&&Af(e)}};function _u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function By(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Fo(o);i.call(u)}}var o=em(t,n,e,0,null,!1,!1,"",Qd);return e._reactRootContainer=o,e[ir]=o.current,oi(e.nodeType===8?e.parentNode:e),dn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Fo(l);a.call(u)}}var l=vu(e,0,!1,null,null,!1,!1,"",Qd);return e._reactRootContainer=l,e[ir]=l.current,oi(e.nodeType===8?e.parentNode:e),dn(function(){la(t,l,r,n)}),l}function da(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fo(o);a.call(l)}}la(t,o,e,s)}else o=By(r,t,e,s,n);return Fo(o)}Of=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ls(t.pendingLanes);r!==0&&(zc(t,r|1),rt(t,je()),!(ae&6)&&(ls=je()+500,Ur()))}break;case 13:dn(function(){var n=or(e,1);if(n!==null){var s=Ge();Pt(n,e,1,s)}}),xu(e,1)}};Fc=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var r=Ge();Pt(t,e,134217728,r)}xu(e,134217728)}};Pf=function(e){if(e.tag===13){var t=Rr(e),r=or(e,t);if(r!==null){var n=Ge();Pt(r,e,t,n)}xu(e,t)}};Rf=function(){return de};If=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};El=function(e,t,r){switch(t){case"input":if(xl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ta(n);if(!s)throw Error(I(90));uf(n),xl(n,s)}}}break;case"textarea":hf(e,r);break;case"select":t=r.value,t!=null&&Kn(e,!!r.multiple,t,!1)}};xf=pu;wf=dn;var qy={usingClientEntryPoint:!1,Events:[bi,Fn,ta,yf,vf,pu]},Rs={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hy={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kf(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||Fy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{Yo=Ji.inject(Hy),Vt=Ji}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qy;dt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_u(t))throw Error(I(200));return zy(e,t,null,r)};dt.createRoot=function(e,t){if(!_u(e))throw Error(I(299));var r=!1,n="",s=tm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vu(e,1,!1,null,null,r,!1,n,s),e[ir]=t.current,oi(e.nodeType===8?e.parentNode:e),new wu(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=kf(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return dn(e)};dt.hydrate=function(e,t,r){if(!ua(t))throw Error(I(200));return da(null,e,t,!0,r)};dt.hydrateRoot=function(e,t,r){if(!_u(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=tm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=em(t,null,e,1,r??null,s,!1,i,o),e[ir]=t.current,oi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ca(t)};dt.render=function(e,t,r){if(!ua(t))throw Error(I(200));return da(null,e,t,!1,r)};dt.unmountComponentAtNode=function(e){if(!ua(e))throw Error(I(40));return e._reactRootContainer?(dn(function(){da(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};dt.unstable_batchedUpdates=pu;dt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ua(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return da(e,t,r,!1,n)};dt.version="18.3.1-next-f1338f8080-20240426";function rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rm)}catch(e){console.error(e)}}rm(),tf.exports=dt;var Vy=tf.exports,nm,Jd=Vy;nm=Jd.createRoot,Jd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mi.apply(this,arguments)}var jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jr||(jr={}));const Yd="popstate";function Wy(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:l=""}=gn(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ic("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:sm(i))}function n(s,i){bu(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Ky(t,r,n,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gy(){return Math.random().toString(36).substr(2,8)}function Xd(e,t){return{usr:e.state,key:e.key,idx:t}}function ic(e,t,r,n){return r===void 0&&(r=null),mi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gn(t):t,{state:r,key:t&&t.key||n||Gy()})}function sm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ky(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=jr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(mi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=jr.Pop;let _=d(),p=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:p})}function g(_,p){a=jr.Push;let h=ic(v.location,_,p);r&&r(h,_),u=d()+1;let m=Xd(h,u),b=v.createHref(h);try{o.pushState(m,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&l&&l({action:a,location:v.location,delta:1})}function y(_,p){a=jr.Replace;let h=ic(v.location,_,p);r&&r(h,_),u=d();let m=Xd(h,u),b=v.createHref(h);o.replaceState(m,"",b),i&&l&&l({action:a,location:v.location,delta:0})}function x(_){let p=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof _=="string"?_:sm(_);return h=h.replace(/ $/,"%20"),Pe(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let v={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Yd,f),l=_,()=>{s.removeEventListener(Yd,f),l=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let p=x(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:y,go(_){return o.go(_)}};return v}var Zd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zd||(Zd={}));function Qy(e,t,r){return r===void 0&&(r="/"),Jy(e,t,r,!1)}function Jy(e,t,r,n){let s=typeof t=="string"?gn(t):t,i=am(s.pathname||"/",r);if(i==null)return null;let o=im(e);Yy(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=lv(i);a=ov(o[l],u,n)}return a}function im(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=nn([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),im(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:sv(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of om(i.path))s(i,o,l)}),t}function om(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=om(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Yy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:iv(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Xy=/^:[\w-]+$/,Zy=3,ev=2,tv=1,rv=10,nv=-2,eh=e=>e==="*";function sv(e,t){let r=e.split("/"),n=r.length;return r.some(eh)&&(n+=nv),t&&(n+=ev),r.filter(s=>!eh(s)).reduce((s,i)=>s+(Xy.test(i)?Zy:i===""?tv:rv),n)}function iv(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ov(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=th({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=th({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:nn([i,f.pathname]),pathnameBase:pv(nn([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=nn([i,f.pathnameBase]))}return o}function th(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=av(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[f];return y&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function av(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function lv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function am(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function cv(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gn(e):e;return{pathname:r?r.startsWith("/")?r:uv(r,t):t,search:mv(n),hash:gv(s)}}function uv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hv(e,t){let r=dv(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gn(e):(s=mi({},e),Pe(!s.pathname||!s.pathname.includes("?"),rl("?","pathname","search",s)),Pe(!s.pathname||!s.pathname.includes("#"),rl("#","pathname","hash",s)),Pe(!s.search||!s.search.includes("#"),rl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=cv(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const nn=e=>e.join("/").replace(/\/\/+/g,"/"),pv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lm=["post","put","patch","delete"];new Set(lm);const vv=["get",...lm];new Set(vv);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(this,arguments)}const ku=w.createContext(null),xv=w.createContext(null),ha=w.createContext(null),fa=w.createContext(null),yn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),cm=w.createContext(null);function pa(){return w.useContext(fa)!=null}function Su(){return pa()||Pe(!1),w.useContext(fa).location}function um(e){w.useContext(ha).static||w.useLayoutEffect(e)}function vn(){let{isDataRoute:e}=w.useContext(yn);return e?Iv():wv()}function wv(){pa()||Pe(!1);let e=w.useContext(ku),{basename:t,future:r,navigator:n}=w.useContext(ha),{matches:s}=w.useContext(yn),{pathname:i}=Su(),o=JSON.stringify(hv(s,r.v7_relativeSplatPath)),a=w.useRef(!1);return um(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=fv(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:nn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function _v(){let{matches:e}=w.useContext(yn),t=e[e.length-1];return t?t.params:{}}function bv(e,t){return kv(e,t)}function kv(e,t,r,n){pa()||Pe(!1);let{navigator:s,static:i}=w.useContext(ha),{matches:o}=w.useContext(yn),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Su(),f;if(t){var g;let p=typeof t=="string"?gn(t):t;u==="/"||(g=p.pathname)!=null&&g.startsWith(u)||Pe(!1),f=p}else f=d;let y=f.pathname||"/",x=y;if(u!=="/"){let p=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=!i&&r&&r.matches&&r.matches.length>0?r.matches:Qy(e,{pathname:x}),_=Cv(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:nn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:nn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,r,n);return t&&_?w.createElement(fa.Provider,{value:{location:gi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:jr.Pop}},_):_}function Sv(){let e=Rv(),t=yv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,i)}const jv=w.createElement(Sv,null);class Ev extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(yn.Provider,{value:this.props.routeContext},w.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nv(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(ku);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(yn.Provider,{value:t},n)}function Cv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Pe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:y}=r,x=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let y,x=!1,v=null,_=null;r&&(y=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||jv,l&&(u<0&&g===0?(Av("route-fallback",!1),x=!0,_=null):u===g&&(x=!0,_=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,g+1)),h=()=>{let m;return y?m=v:x?m=_:f.route.Component?m=w.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,w.createElement(Nv,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?w.createElement(Ev,{location:r.location,revalidation:r.revalidation,component:v,error:y,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var dm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dm||{}),Bo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bo||{});function Tv(e){let t=w.useContext(ku);return t||Pe(!1),t}function Ov(e){let t=w.useContext(xv);return t||Pe(!1),t}function Pv(e){let t=w.useContext(yn);return t||Pe(!1),t}function hm(e){let t=Pv(),r=t.matches[t.matches.length-1];return r.route.id||Pe(!1),r.route.id}function Rv(){var e;let t=w.useContext(cm),r=Ov(Bo.UseRouteError),n=hm(Bo.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Iv(){let{router:e}=Tv(dm.UseNavigateStable),t=hm(Bo.UseNavigateStable),r=w.useRef(!1);return um(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,gi({fromRouteId:t},i)))},[e,t])}const rh={};function Av(e,t,r){!t&&!rh[e]&&(rh[e]=!0)}function $v(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Kr(e){Pe(!1)}function Lv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:a}=e;pa()&&Pe(!1);let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:gi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=gn(n));let{pathname:d="/",search:f="",hash:g="",state:y=null,key:x="default"}=n,v=w.useMemo(()=>{let _=am(d,l);return _==null?null:{location:{pathname:_,search:f,hash:g,state:y,key:x},navigationType:s}},[l,d,f,g,y,x,s]);return v==null?null:w.createElement(ha.Provider,{value:u},w.createElement(fa.Provider,{children:r,value:v}))}function Dv(e){let{children:t,location:r}=e;return bv(oc(t),r)}new Promise(()=>{});function oc(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,oc(n.props.children,i));return}n.type!==Kr&&Pe(!1),!n.props.index||!n.props.children||Pe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=oc(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mv="6";try{window.__reactRouterVersion=Mv}catch{}const Uv="startTransition",nh=A0[Uv];function zv(e){let{basename:t,children:r,future:n,window:s}=e,i=w.useRef();i.current==null&&(i.current=Wy({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&nh?nh(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>$v(n),[n]),w.createElement(Lv,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var sh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sh||(sh={}));var ih;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ih||(ih={}));let Fv={data:""},Bv=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Fv,qv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Hv=/\/\*[^]*?\*\/|  +/g,oh=/\n+/g,_r=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?_r(o,i):i+"{"+_r(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=_r(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=_r.p?_r.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Yt={},fm=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+fm(e[r]);return t}return e},Vv=(e,t,r,n,s)=>{let i=fm(e),o=Yt[i]||(Yt[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Yt[o]){let l=i!==e?e:(u=>{let d,f,g=[{}];for(;d=qv.exec(u.replace(Hv,""));)d[4]?g.shift():d[3]?(f=d[3].replace(oh," ").trim(),g.unshift(g[0][f]=g[0][f]||{})):g[0][d[1]]=d[2].replace(oh," ").trim();return g[0]})(e);Yt[o]=_r(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Yt.g?Yt.g:null;return r&&(Yt.g=Yt[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Yt[o],t,n,a),o},Wv=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":_r(a,""):a===!1?"":a}return n+s+(o??"")},"");function ma(e){let t=this||{},r=e.call?e(t.p):e;return Vv(r.unshift?r.raw?Wv(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Bv(t.target),t.g,t.o,t.k)}let pm,ac,lc;ma.bind({g:1});let lr=ma.bind({k:1});function Gv(e,t,r,n){_r.p=t,pm=e,ac=r,lc=n}function zr(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:ac&&ac()},a),r.o=/ *go\d+/.test(l),a.className=ma.apply(r,n)+(l?" "+l:""),t&&(a.ref=o);let u=e;return e[0]&&(u=a.as||e,delete a.as),lc&&u[0]&&lc(a),pm(u,a)}return t?t(s):s}}var Kv=e=>typeof e=="function",qo=(e,t)=>Kv(e)?e(t):e,Qv=(()=>{let e=0;return()=>(++e).toString()})(),mm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Jv=20,gm=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Jv)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return gm(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},yo=[],en={toasts:[],pausedAt:void 0},xn=e=>{en=gm(en,e),yo.forEach(t=>{t(en)})},Yv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xv=(e={})=>{let[t,r]=w.useState(en),n=w.useRef(en);w.useEffect(()=>(n.current!==en&&r(en),yo.push(r),()=>{let i=yo.indexOf(r);i>-1&&yo.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||Yv[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},Zv=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Qv()}),Si=e=>(t,r)=>{let n=Zv(t,e,r);return xn({type:2,toast:n}),n.id},z=(e,t)=>Si("blank")(e,t);z.error=Si("error");z.success=Si("success");z.loading=Si("loading");z.custom=Si("custom");z.dismiss=e=>{xn({type:3,toastId:e})};z.remove=e=>xn({type:4,toastId:e});z.promise=(e,t,r)=>{let n=z.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?qo(t.success,s):void 0;return i?z.success(i,{id:n,...r,...r==null?void 0:r.success}):z.dismiss(n),s}).catch(s=>{let i=t.error?qo(t.error,s):void 0;i?z.error(i,{id:n,...r,...r==null?void 0:r.error}):z.dismiss(n)}),e};var ex=(e,t)=>{xn({type:1,toast:{id:e,height:t}})},tx=()=>{xn({type:5,time:Date.now()})},Ks=new Map,rx=1e3,nx=(e,t=rx)=>{if(Ks.has(e))return;let r=setTimeout(()=>{Ks.delete(e),xn({type:4,toastId:e})},t);Ks.set(e,r)},sx=e=>{let{toasts:t,pausedAt:r}=Xv(e);w.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&z.dismiss(a.id);return}return setTimeout(()=>z.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=w.useCallback(()=>{r&&xn({type:6,time:Date.now()})},[r]),s=w.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=t.filter(y=>(y.position||u)===(i.position||u)&&y.height),f=d.findIndex(y=>y.id===i.id),g=d.filter((y,x)=>x<f&&y.visible).length;return d.filter(y=>y.visible).slice(...a?[g+1]:[0,g]).reduce((y,x)=>y+(x.height||0)+l,0)},[t]);return w.useEffect(()=>{t.forEach(i=>{if(i.dismissed)nx(i.id,i.removeDelay);else{let o=Ks.get(i.id);o&&(clearTimeout(o),Ks.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:ex,startPause:tx,endPause:n,calculateOffset:s}}},ix=lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ox=lr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ax=lr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lx=zr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ix} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ox} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ax} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cx=lr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ux=zr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${cx} 1s linear infinite;
`,dx=lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hx=lr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fx=zr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,px=zr("div")`
  position: absolute;
`,mx=zr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gx=lr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yx=zr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vx=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?w.createElement(yx,null,t):t:r==="blank"?null:w.createElement(mx,null,w.createElement(ux,{...n}),r!=="loading"&&w.createElement(px,null,r==="error"?w.createElement(lx,{...n}):w.createElement(fx,{...n})))},xx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,_x="0%{opacity:0;} 100%{opacity:1;}",bx="0%{opacity:1;} 100%{opacity:0;}",kx=zr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Sx=zr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jx=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=mm()?[_x,bx]:[xx(r),wx(r)];return{animation:t?`${lr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ex=w.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?jx(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(vx,{toast:e}),o=w.createElement(Sx,{...e.ariaProps},qo(e.message,e));return w.createElement(kx,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});Gv(w.createElement);var Nx=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=w.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:i,className:t,style:r},s)},Cx=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Tx=ma`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yi=16,Ox=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=sx(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Yi,left:Yi,right:Yi,bottom:Yi,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),g=Cx(d,f);return w.createElement(Nx,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?Tx:"",style:g},u.type==="custom"?qo(u.message,u):s?s(u):w.createElement(Ex,{toast:u,position:d}))}))},Xi=z,Px={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ce=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},u)=>w.createElement("svg",{ref:u,...Px,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${Rx(e)}`,...l},[...t.map(([d,f])=>w.createElement(d,f)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${e}`,r},ym=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),cc=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ix=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ah=ce("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),vm=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),uc=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),dc=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xm=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),wm=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ax=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),_m=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),bm=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),km=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),$x=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Lx=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Dx=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Mx=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Ux=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Sm=ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),zx=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ga=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Fx=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Bx=ce("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),lh=ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),qx=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Hx=ce("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),jm=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ho=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Vx=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Em=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wx="modulepreload",Gx=function(e,t){return new URL(e,t).href},ch={},cs=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=Gx(i,n),i in ch)return;ch[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Wx,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Kx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cs(()=>Promise.resolve().then(()=>gs),void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ju extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Qx extends ju{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jx extends ju{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yx extends ju{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hc||(hc={}));var Xx=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Zx{constructor(t,{headers:r={},customFetch:n,region:s=hc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Kx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Xx(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new Qx(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Jx(d);if(!d.ok)throw new Yx(d);let g=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield d.json():g==="application/octet-stream"?y=yield d.blob():g==="text/event-stream"?y=d:g==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Xe={},Eu={},ya={},ji={},va={},xa={},ew=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},us=ew();const tw=us.fetch,Nm=us.fetch.bind(us),Cm=us.Headers,rw=us.Request,nw=us.Response,gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cm,Request:rw,Response:nw,default:Nm,fetch:tw},Symbol.toStringTag,{value:"Module"})),sw=v0(gs);var wa={};Object.defineProperty(wa,"__esModule",{value:!0});let iw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wa.default=iw;var Tm=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xa,"__esModule",{value:!0});const ow=Tm(sw),aw=Tm(wa);let lw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ow.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,f=null,g=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,g=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,y="OK")}catch{i.status===404&&v===""?(g=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&this.shouldThrowOnError)throw new aw.default(u)}return{error:u,data:d,count:f,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};xa.default=lw;var cw=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const uw=cw(xa);let dw=class extends uw.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};va.default=dw;var hw=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ji,"__esModule",{value:!0});const fw=hw(va);let pw=class extends fw.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ji.default=pw;var mw=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const Is=mw(ji);let gw=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Is.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Is.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Is.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ya.default=gw;var _a={},ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.version=void 0;ba.version="0.0.0-automated";Object.defineProperty(_a,"__esModule",{value:!0});_a.DEFAULT_HEADERS=void 0;const yw=ba;_a.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yw.version}`};var Om=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eu,"__esModule",{value:!0});const vw=Om(ya),xw=Om(ji),ww=_a;let _w=class Pm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ww.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new vw.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new xw.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Eu.default=_w;var ys=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const Rm=ys(Eu);Xe.PostgrestClient=Rm.default;const Im=ys(ya);Xe.PostgrestQueryBuilder=Im.default;const Am=ys(ji);Xe.PostgrestFilterBuilder=Am.default;const $m=ys(va);Xe.PostgrestTransformBuilder=$m.default;const Lm=ys(xa);Xe.PostgrestBuilder=Lm.default;const Dm=ys(wa);Xe.PostgrestError=Dm.default;var bw=Xe.default={PostgrestClient:Rm.default,PostgrestQueryBuilder:Im.default,PostgrestFilterBuilder:Am.default,PostgrestTransformBuilder:$m.default,PostgrestBuilder:Lm.default,PostgrestError:Dm.default};const{PostgrestClient:kw,PostgrestQueryBuilder:Ab,PostgrestFilterBuilder:$b,PostgrestTransformBuilder:Lb,PostgrestBuilder:Db,PostgrestError:Mb}=bw,Sw="2.11.2",jw={"X-Client-Info":`realtime-js/${Sw}`},Ew="1.0.0",Mm=1e4,Nw=1e3;var es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(es||(es={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var fc;(function(e){e.websocket="websocket"})(fc||(fc={}));var Jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jr||(Jr={}));class Cw{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Um{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const uh=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Tw(o,e,t,s),i),{})},Tw=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?zm(i,o):pc(o)},zm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Iw(t,r)}switch(e){case fe.bool:return Ow(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return Pw(t);case fe.json:case fe.jsonb:return Rw(t);case fe.timestamp:return Aw(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return pc(t);default:return pc(t)}},pc=e=>e,Ow=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Pw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Iw=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>zm(t,a))}return e},Aw=e=>typeof e=="string"?e.replace(" ","T"):e,Fm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class nl{constructor(t,r,n={},s=Mm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dh||(dh={}));class Qs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Qs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const g=d.map(_=>_.presence_ref),y=f.map(_=>_.presence_ref),x=d.filter(_=>y.indexOf(_.presence_ref)<0),v=f.filter(_=>g.indexOf(_.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(y=>y.presence_ref),g=d.filter(y=>f.indexOf(y.presence_ref)<0);t[a].unshift(...g)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hh||(hh={}));var fh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fh||(fh={}));var Zt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zt||(Zt={}));class Nu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nl(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Um(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Qs(this),this.broadcastEndpointURL=Fm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Zt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Zt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Zt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,x=[];for(let v=0;v<y;v++){const _=g[v],{filter:{event:p,schema:h,table:m,filter:b}}=_,S=d&&d[v];if(S&&S.event===p&&S.schema===h&&S.table===m&&S.filter===b)x.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),t==null||t(Zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Zt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new nl(this,Ct.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ct;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,v,_;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(v=y.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,v,_,p,h,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const b=y.id,S=(x=y.filter)===null||x===void 0?void 0:x.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(h=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return b==="*"||b===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:v,table:_,commit_timestamp:p,type:h,errors:m}=x;g=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:p,eventType:h,new:{},old:{},errors:m}),this._getPayloadRecords(x))}y.callback(g,n)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uh(t.columns,t.old_record)),r}}const $w=()=>{},Lw=typeof WebSocket<"u",Dw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mw{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jw,this.params={},this.timeout=Mm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$w,this.conn=null,this.sendBuffer=[],this.serializer=new Cw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>cs(()=>Promise.resolve().then(()=>gs),void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${fc.websocket}`,this.httpEndpoint=Fm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Um(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Lw){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Uw(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),cs(()=>import("./browser-2a2a7066.js").then(t=>t.b),[],import.meta.url).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ew}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case es.connecting:return Jr.Connecting;case es.open:return Jr.Open;case es.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(t,r={config:{}}){const n=new Nu(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ct.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Nw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Dw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Uw{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=es.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Cu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zw extends Cu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mc extends Cu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Fw=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Bm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cs(()=>Promise.resolve().then(()=>gs),void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Bw=()=>Fw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>gs),void 0,import.meta.url)).Response:Response}),gc=e=>{if(Array.isArray(e))return e.map(r=>gc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=gc(n)}),t};var wn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const sl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qw=(e,t,r)=>wn(void 0,void 0,void 0,function*(){const n=yield Bw();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new zw(sl(s),e.status||500))}).catch(s=>{t(new mc(sl(s),s))}):t(new mc(sl(e),e))}),Hw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ei(e,t,r,n,s,i){return wn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Hw(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>qw(l,a,n))})})}function Vo(e,t,r,n){return wn(this,void 0,void 0,function*(){return Ei(e,"GET",t,r,n)})}function vr(e,t,r,n,s){return wn(this,void 0,void 0,function*(){return Ei(e,"POST",t,n,s,r)})}function Vw(e,t,r,n,s){return wn(this,void 0,void 0,function*(){return Ei(e,"PUT",t,n,s,r)})}function Ww(e,t,r,n){return wn(this,void 0,void 0,function*(){return Ei(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qm(e,t,r,n,s){return wn(this,void 0,void 0,function*(){return Ei(e,"DELETE",t,n,s,r)})}var Je=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Gw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ph={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kw{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Bm(s)}uploadOrUpdate(t,r,n,s){return Je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ph),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield f.json();return f.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:ph.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),g=yield f.json();return f.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield vr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Cu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}update(t,r,n){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Je(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield vr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Je(this,void 0,void 0,function*(){try{const s=yield vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}download(t,r){return Je(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Vo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ie(a))return{data:null,error:a};throw a}})}info(t){return Je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gc(n),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}exists(t){return Je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ww(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ie(n)&&n instanceof mc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Je(this,void 0,void 0,function*(){try{return{data:yield qm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}list(t,r,n){return Je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Gw),r),{prefix:t||""});return{data:yield vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Qw="2.7.1",Jw={"X-Client-Info":`storage-js/${Qw}`};var On=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Yw{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Jw),r),this.fetch=Bm(n)}listBuckets(){return On(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ie(t))return{data:null,error:t};throw t}})}getBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return On(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return On(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}emptyBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield qm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}}class Xw extends Yw{constructor(t,r={},n){super(t,r,n)}from(t){return new Kw(this.url,this.headers,t,this.fetch)}}const Zw="2.49.4";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const e1={"X-Client-Info":`supabase-js-${Ms}/${Zw}`},t1={headers:e1},r1={schema:"public"},n1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s1={};var i1=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const o1=e=>{let t;return e?t=e:typeof fetch>"u"?t=Nm:t=fetch,(...r)=>t(...r)},a1=()=>typeof Headers>"u"?Cm:Headers,l1=(e,t,r)=>{const n=o1(r),s=a1();return(i,o)=>i1(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var c1=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function u1(e){return e.replace(/\/$/,"")}function d1(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>c1(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Hm="2.69.1",$n=30*1e3,yc=3,il=yc*$n,h1="http://localhost:9999",f1="supabase.auth.token",p1={"X-Client-Info":`gotrue-js/${Hm}`},vc="X-Supabase-Api-Version",Vm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g1=6e5;class Tu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class y1 extends Tu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function v1(e){return X(e)&&e.name==="AuthApiError"}class Wm extends Tu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fr extends Tu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class pr extends Fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function x1(e){return X(e)&&e.name==="AuthSessionMissingError"}class ol extends Fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zi extends Fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class eo extends Fr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function w1(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class mh extends Fr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xc extends Fr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function al(e){return X(e)&&e.name==="AuthRetryableFetchError"}class gh extends Fr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Js extends Fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vh=` 	
\r=`.split(""),_1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vh.length;t+=1)e[vh[t].charCodeAt(0)]=-2;for(let t=0;t<yh.length;t+=1)e[yh[t].charCodeAt(0)]=t;return e})();function Gm(e,t,r){const n=_1[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xh(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{S1(o,n,r)};for(let o=0;o<e.length;o+=1)Gm(e.charCodeAt(o),s,i);return t.join("")}function b1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function k1(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}b1(n,t)}}function S1(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function j1(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Gm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function E1(e){const t=[];return k1(e,r=>t.push(r)),new Uint8Array(t)}function N1(e){return Math.round(Date.now()/1e3)+e}function C1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",Vr={tested:!1,writable:!1},Ys=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vr.tested)return Vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vr.tested=!0,Vr.writable=!0}catch{Vr.tested=!0,Vr.writable=!1}return Vr.writable};function T1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Km=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cs(()=>Promise.resolve().then(()=>gs),void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},O1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},to=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ro=async(e,t)=>{await e.removeItem(t)};class ka{constructor(){this.promise=new ka.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ka.promiseConstructor=Promise;function ll(e){const t=e.split(".");if(t.length!==3)throw new Js("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!m1.test(t[n]))throw new Js("JWT not in base64url format");return{header:JSON.parse(xh(t[0])),payload:JSON.parse(xh(t[1])),signature:j1(t[2]),raw:{header:t[0],payload:t[1]}}}async function P1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function R1(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function I1(e){return("0"+e.toString(16)).substr(-2)}function A1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,I1).join("")}async function $1(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function L1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pn(e,t,r=!1){const n=A1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Qm(e,`${t}-code-verifier`,s);const i=await L1(n);return[i,n===i?"plain":"s256"]}const D1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M1(e){const t=e.headers.get(vc);if(!t||!t.match(D1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function z1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var F1=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),B1=[502,503,504];async function wh(e){var t;if(!O1(e))throw new xc(Qr(e),0);if(B1.includes(e.status))throw new xc(Qr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Wm(Qr(i),i)}let n;const s=M1(e);if(s&&s.getTime()>=Vm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gh(Qr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gh(Qr(r),e.status,r.weak_password.reasons);throw new y1(Qr(r),e.status||500,n)}const q1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function re(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[vc]||(i[vc]=Vm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await H1(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function H1(e,t,r,n,s,i){const o=q1(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new xc(Qr(l),0)}if(a.ok||await wh(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await wh(l)}}function mr(e){var t;let r=null;K1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=N1(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _h(e){const t=mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function br(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function V1(e){return{data:e,error:null}}function W1(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=F1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function G1(e){return e}function K1(e){return e.access_token&&e.refresh_token&&e.expires_in}var Q1=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class J1{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Km(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:br})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Q1(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:W1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:br})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:G1});if(d.error)throw d.error;const f=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:br})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:br})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:br})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}}const Y1={getItem:e=>Ys()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ys()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ys()&&globalThis.localStorage.removeItem(e)}};function bh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function X1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rn={debug:!!(globalThis&&Ys()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Z1 extends Jm{}async function e_(e,t,r){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Z1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}X1();const t_={url:h1,storageKey:f1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kh(e,t,r){return await r()}class yi{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yi.nextInstanceID,yi.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},t_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new J1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Km(s.fetch),this.lock=s.lock||kh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=e_:this.lock=kh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ys()?this.storage=Y1:(this.memoryStorage={},this.storage=bh(this.memoryStorage)):(this.memoryStorage={},this.storage=bh(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=T1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ft()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),w1(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?{error:r}:{error:new Wm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:g}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Pn(this.storage,this.storageKey)),i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:x},xform:mr})}else if("phone"in t){const{phone:d,password:f,options:g}=t;i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:mr})}else throw new Zi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_h})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_h})}else throw new Zi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ol}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:mr});if(await ro(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ol}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(X(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ol}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pn(this.storage,this.storageKey));const{error:f}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Zi("You must provide either an email or phone number.")}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Pn(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:V1})}catch(i){if(X(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pr;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Zi("You must provide either an email or phone number and a type")}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<il:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:br}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:br})})}catch(r){if(X(r))return x1(r)&&(await this._removeSession(),await ro(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Pn(this.storage,this.storageKey));const{data:u,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:br});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ll(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(X(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ft())throw new eo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new eo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mh("No code detected.");const{data:h,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new eo("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let g=d+f;l&&(g=parseInt(l));const y=g-d;y*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const x=g-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(v1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ro(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=C1(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pn(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ft()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(X(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await R1(async s=>(s>0&&await P1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&al(i)&&Date.now()+o-n<$n})}catch(n){if(this._debug(r,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await to(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<il;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${il}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),al(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ka;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),X(i)){const o={session:null,error:i};return al(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ro(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$n}ms, refresh threshold is ${yc} ticks`),s<=yc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Pn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ll(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+g1>Date.now()))return n;const{data:s,error:i}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Js("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Js("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ll(n);if(U1(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=z1(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,E1(`${a}.${l}`)))throw new Js("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}yi.nextInstanceID=0;const r_=yi;class n_ extends r_{constructor(t){super(t)}}var s_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class i_{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=u1(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:r1,realtime:s1,auth:Object.assign(Object.assign({},n1),{storageKey:l}),global:t1},d=d1(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=l1(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kw(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Zx(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xw(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return s_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n_({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Mw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const o_=(e,t,r)=>new i_(e,t,r),a_="https://qbllialyhqwjycivyonl.supabase.co",l_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFibGxpYWx5aHF3anljaXZ5b25sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjcwMzAsImV4cCI6MjA2MjA0MzAzMH0.y_Hj1vE66z80F4yFSWkT4j1tS-bvXM8EwpzxpSMCRkE",M=o_(a_,l_,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"implicit",redirectTo:"https://gabrielsadrc.github.io/NGL-ashes-tracker/"}}),Sh=({children:e})=>{const t=vn(),r=Su(),[n,s]=w.useState(!1),[i,o]=w.useState(!1),[a,l]=w.useState(!1),[u,d]=w.useState(null),[f,g]=w.useState(!0),[y,x]=w.useState(null);w.useEffect(()=>{const{data:{subscription:h}}=M.auth.onAuthStateChange(async(m,b)=>{var S,E;if(l(!!b),d(((S=b==null?void 0:b.user)==null?void 0:S.id)||null),b!=null&&b.user){v(b.user.id);const{user:k}=b;k.app_metadata.provider==="discord"&&x({avatar_url:k.user_metadata.avatar_url,username:k.user_metadata.full_name||k.user_metadata.username,discriminator:(E=k.user_metadata.custom_claims)==null?void 0:E.global_name})}else o(!1),x(null);g(!1)});return M.auth.getSession().then(({data:{session:m}})=>{var b,S,E;if(l(!!m),d(((b=m==null?void 0:m.user)==null?void 0:b.id)||null),m!=null&&m.user){v(m.user.id);const{user:k}=m,C=((S=k.app_metadata)==null?void 0:S.providers)||[];Array.isArray(C)&&C.includes("discord")&&x({avatar_url:k.user_metadata.avatar_url,username:k.user_metadata.full_name||k.user_metadata.username,discriminator:(E=k.user_metadata.custom_claims)==null?void 0:E.global_name})}g(!1)}),()=>{h.unsubscribe()}},[]);const v=async h=>{try{const{data:m}=await M.from("guilds").select("id").eq("name","Not Gonna Lie").single();if(!m)return;const{data:b}=await M.from("guild_memberships").select("role").eq("guild_id",m.id).eq("user_id",h).eq("status","active").single();o((b==null?void 0:b.role)==="admin")}catch(m){console.error("Error checking admin status:",m)}},_=async()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(h=>{const[m]=h.split("=");document.cookie=`${m.trim()}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}),await M.auth.signOut({scope:"global"})}catch(h){console.error("Error during logout:",h)}},p=[{section:"Main",items:[{path:"/",label:"Home",icon:$x}]},{section:"Guild",items:[{path:"/guild-inventory",label:"Guild Inventory",icon:Ax},{path:"/buy-orders",label:"Buy Orders",icon:qx},{path:"/items",label:"Item Database",icon:Hx}]}];return i&&p.push({section:"Admin",items:[{path:"/admin",label:"Admin Dashboard",icon:Bx}]}),a&&u&&p.push({section:"Account",items:[{path:`/profile/${u}`,label:"View Profile",icon:Ho}]}),f?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e}):a?c.jsxs("div",{className:"min-h-screen flex bg-black/10",children:[c.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-gray-900/95 transform transition-transform duration-200 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsx("div",{className:"p-6 border-b border-gray-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(lh,{className:"h-8 w-8 text-yellow-500"}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"Not Gonna Lie"})]})}),y&&c.jsx("div",{className:"px-6 py-4 border-b border-gray-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[y.avatar_url?c.jsx("img",{src:y.avatar_url,alt:y.username,className:"w-10 h-10 rounded-full border-2 border-yellow-500"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center",children:c.jsx(Ho,{className:"w-6 h-6 text-yellow-500"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-white truncate",children:y.username}),y.discriminator&&c.jsx("p",{className:"text-xs text-gray-400 truncate",children:y.discriminator})]})]})}),c.jsx("nav",{className:"flex-1 px-4 py-6 space-y-8 overflow-y-auto",children:p.map(h=>c.jsxs("div",{children:[c.jsx("h2",{className:"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:h.section}),c.jsx("div",{className:"mt-2 space-y-1",children:h.items.map(m=>{const b=m.icon,S=r.pathname===m.path;return c.jsxs("button",{onClick:()=>{t(m.path),s(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${S?"bg-yellow-500/20 text-yellow-500":"text-gray-400 hover:bg-gray-800/50 hover:text-white"}`,children:[c.jsx(b,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:m.label})]},m.path)})})]},h.section))}),c.jsx("div",{className:"p-4 border-t border-gray-800",children:c.jsxs("button",{onClick:_,className:"w-full flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors mb-4",children:[c.jsx(Lx,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"Logout"})]})}),c.jsx("div",{className:"p-4 border-t border-gray-800",children:c.jsx("p",{className:"text-sm text-gray-500 text-center px-4",children:"© 2025 NGL - Character Tracker"})})]})}),c.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[c.jsx("header",{className:"lg:hidden sticky top-0 z-40 bg-gray-900/95 backdrop-blur-sm shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(lh,{className:"h-6 w-6 text-yellow-500"}),c.jsx("h1",{className:"text-lg font-bold text-white",children:"Not Gonna Lie"})]}),c.jsx("button",{onClick:()=>s(!n),className:"p-2 text-gray-400 hover:text-white transition-colors",children:n?c.jsx(Em,{className:"h-6 w-6"}):c.jsx(Dx,{className:"h-6 w-6"})})]})}),n&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>s(!1)}),c.jsx("main",{className:"flex-1 p-4 lg:p-8",children:e})]})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e})},c_=()=>{const[e,t]=w.useState(!1),r=async()=>{try{t(!0);const{data:n,error:s}=await M.auth.signInWithOAuth({provider:"discord",options:{redirectTo:"https://gabrielsadrc.github.io/NGL-ashes-tracker/",skipBrowserRedirect:!1}});if(s){console.error("Discord auth error:",s),z.error(s.message);return}}catch(n){console.error("Error signing in with Discord:",n),z.error("Failed to sign in with Discord")}finally{t(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"max-w-sm w-full p-6 background-card-att bg-gray-with-oppacity /80 backdrop-blur-sm rounded-lg shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Welcome to NGL Tracker"}),c.jsx("button",{onClick:r,disabled:e,className:"w-full bg-[#5865F2] hover:bg-[#4752C4] text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-3 disabled:opacity-50",children:e?c.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-6 h-6",viewBox:"0 -28.5 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",children:c.jsx("g",{children:c.jsx("path",{d:"M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z",fill:"currentColor",fillRule:"nonzero"})})}),"Sign in with Discord"]})}),c.jsx("p",{className:"mt-4 text-sm text-gray-400 text-center",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]})})};function u_({selectedGuildId:e,onSelectGuild:t}){const[r,n]=w.useState([]),[s,i]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const{data:{session:a},error:l}=await M.auth.getSession();if(l||!a){console.error("Error getting session:",l),Xi.error("Please log in to view guilds");return}const{data:u,error:d}=await M.from("guilds").select("*");if(d){console.error("Error fetching guilds:",d),Xi.error("Failed to fetch guilds");return}const f=u==null?void 0:u.find(g=>g.name==="Not Gonna Lie");f?(n([f]),e||t(f.id)):(console.error('Guild "Not Gonna Lie" not found'),Xi.error("Guild not found"),n([]))}catch(a){console.error("Error in fetchGuilds:",a),Xi.error("Failed to fetch guilds")}finally{i(!1)}};return s?c.jsx("div",{className:"mb-6 space-y-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Loading Guild..."})})}):c.jsx("div",{className:"mb-6 space-y-4",children:r.length>0?c.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.map(a=>c.jsx("button",{onClick:()=>t(a.id),className:`p-4 rounded-lg border hidden ${e===a.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"} text-left transition-colors`,children:c.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:a.name})},a.id))}):c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No guild found"})})}const Ym=["Bard","Cleric","Fighter","Mage","Ranger","Rogue","Summoner","Tank"],Xm={Bard:["Minstrel","Scryer","Bladedancer","Sorcerer","Bowsinger","Charlatan","Enchanter","Argent"],Cleric:["Soul Weaver","High Priest","Highsword","Acolyte","Soulbow","Cultist","Necromancer","Paladin"],Fighter:["Tellsword","Templar","Weapon Master","Battle Mage","Strider","Duelist","Wild Blade","Knight"],Mage:["Magician","Oracle","Spellsword","Archwizard","Scion","Nightspell","Spellmancer","Spellshield"],Ranger:["Song Warden","Protector","Hunter","Spellhunter","Hawkeye","Predator","Beastmaster","Warden"],Rogue:["Trickster","Shadow Disciple","Shadowblade","Shadow Caster","Scout","Assassin","Shadowmancer","Nightshield"],Summoner:["Songcaller","Shaman","Bladecaller","Warlock","Falconer","Shadow Lord","Conjurer","Keeper"],Tank:["Siren","Apostle","Dreadnought","Spellstone","Sentinel","Shadow Guardian","Brood Warden","Guardian"]},Wo={gathering:["Fishing","Herbalism","Hunting","Lumberjacking","Mining"],processing:["Alchemy","Animal Husbandry","Cooking","Farming","Lumber Milling","Metalworking","Stonemasonry","Tanning","Weaving"],crafting:["Arcane Engineering","Armor Smithing","Carpentry","Leatherworking","Jeweler","Scribe","Tailoring","Weapon Smithing"]},wc=["Novice","Apprentice","Journeyman","Master","Grandmaster"],Zm=()=>{const e={gathering:{},processing:{},crafting:{}};return Object.entries(Wo).forEach(([t,r])=>{r.forEach(n=>{e[t][n]={level:0,rank:"Novice"}})}),e},d_={name:"",type:"gathering",primary_class:"Fighter",secondary_class:"",skills:Zm(),guild_id:0},h_=({initialValues:e,onSubmit:t,onCancel:r})=>{const[n,s]=w.useState(e||d_),[i,o]=w.useState({}),[a,l]=w.useState(!1);w.useEffect(()=>{e&&s(e)},[e]);const u=x=>{const{name:v,value:_}=x.target;s(p=>({...p,[v]:_})),i[v]&&o(p=>{const h={...p};return delete h[v],h})},d=x=>{const v=x.target.value;s(_=>({..._,primary_class:v,secondary_class:""}))},f=(x,v,_,p)=>{s(h=>({...h,skills:{...h.skills,[x]:{...h.skills[x],[v]:{...h.skills[x][v],[_]:_==="level"?Math.min(100,Math.max(0,parseInt(p,10)||0)):p}}}}))},g=()=>{const x={};return n.name.trim()||(x.name="Name is required"),n.primary_class||(x.primary_class="Primary class is required"),n.secondary_class||(x.secondary_class="Secondary class is required"),Object.entries(Wo).forEach(([v,_])=>{_.forEach(p=>{const h=n.skills[v][p];(!h||h.level<0||h.level>100)&&(x[`skills.${v}.${p}.level`]="Skill level must be between 0 and 100"),(!h||!wc.includes(h.rank))&&(x[`skills.${v}.${p}.rank`]="Invalid skill rank")})}),o(x),Object.keys(x).length===0},y=async x=>{if(x.preventDefault(),g())try{l(!0),await t(n),z.success(e?"Character updated successfully":"Character created successfully")}catch(v){console.error("Error submitting character:",v),z.error("Failed to save character")}finally{l(!1)}};return c.jsxs("div",{className:"bg-white bg-gray-with-oppacity  rounded-lg shadow-md p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white",children:e?"Edit Character":"Add New Character"}),c.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Character Name"}),c.jsx("input",{id:"name",name:"name",type:"text",value:n.name,onChange:u,className:`w-full px-3 py-2 border ${i.name?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white`,placeholder:"Enter character name",disabled:a}),i.name&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Character Type"}),c.jsxs("select",{id:"type",name:"type",value:n.type,onChange:u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",disabled:a,children:[c.jsx("option",{value:"gathering",children:"Gathering"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"crafting",children:"Crafting"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"primary_class",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Primary Class"}),c.jsx("select",{id:"primary_class",name:"primary_class",value:n.primary_class,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",disabled:a,children:Ym.map(x=>c.jsx("option",{value:x,children:x},x))}),i.primary_class&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.primary_class})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"secondary_class",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Secondary Class"}),c.jsxs("select",{id:"secondary_class",name:"secondary_class",value:n.secondary_class,onChange:u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",disabled:!n.primary_class||a,children:[c.jsx("option",{value:"",children:"Select Secondary Class"}),n.primary_class&&Xm[n.primary_class].map(x=>c.jsx("option",{value:x,children:x},x))]}),i.secondary_class&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.secondary_class})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-md font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Skills"}),c.jsx("div",{className:"space-y-6",children:Object.entries(Wo).map(([x,v])=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:x}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(_=>{var p,h;return c.jsxs("div",{className:"bg-white bg-gray-with-oppacity  p-4 rounded-lg shadow-sm",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:_}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Level"}),c.jsx("input",{type:"number",min:"0",max:"100",value:((p=n.skills[x][_])==null?void 0:p.level)||0,onChange:m=>f(x,_,"level",m.target.value),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",disabled:a}),i[`skills.${x}.${_}.level`]&&c.jsx("p",{className:"mt-1 text-xs text-red-600",children:i[`skills.${x}.${_}.level`]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Rank"}),c.jsx("select",{value:((h=n.skills[x][_])==null?void 0:h.rank)||"Novice",onChange:m=>f(x,_,"rank",m.target.value),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",disabled:a,children:wc.map(m=>c.jsx("option",{value:m,children:m},m))}),i[`skills.${x}.${_}.rank`]&&c.jsx("p",{className:"mt-1 text-xs text-red-600",children:i[`skills.${x}.${_}.rank`]})]})]})]},_)})})]},x))})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",disabled:a,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,children:a?"Saving...":e?"Update Character":"Add Character"})]})]})]})};function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(null,arguments)}function jh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},bc(e,t)}function f_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bc(e,t)}var Eh=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function p_(e,t){return!!(e===t||Eh(e)&&Eh(t))}function m_(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!p_(e[r],t[r]))return!1;return!0}function cl(e,t){t===void 0&&(t=m_);var r,n=[],s,i=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&r===this&&t(a,n)||(s=e.apply(this,a),i=!0,r=this,n=a),s}return o}var g_=typeof performance=="object"&&typeof performance.now=="function",Nh=g_?function(){return performance.now()}:function(){return Date.now()};function Ch(e){cancelAnimationFrame(e.id)}function y_(e,t){var r=Nh();function n(){Nh()-r>=t?e.call(null):s.id=requestAnimationFrame(n)}var s={id:requestAnimationFrame(n)};return s}var ul=-1;function Th(e){if(e===void 0&&(e=!1),ul===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),ul=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ul}var In=null;function Oh(e){if(e===void 0&&(e=!1),In===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),s=n.style;return s.width="100px",s.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?In="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?In="negative":In="positive-ascending"),document.body.removeChild(t),In}return In}var v_=150,x_=function(t,r){return t};function w_(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,s=e.getItemSize,i=e.getOffsetForIndexAndAlignment,o=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,l=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(f){f_(g,f);function g(x){var v;return v=f.call(this,x)||this,v._instanceProps=l(v.props,jh(v)),v._outerRef=void 0,v._resetIsScrollingTimeoutId=null,v.state={instance:jh(v),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof v.props.initialScrollOffset=="number"?v.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},v._callOnItemsRendered=void 0,v._callOnItemsRendered=cl(function(_,p,h,m){return v.props.onItemsRendered({overscanStartIndex:_,overscanStopIndex:p,visibleStartIndex:h,visibleStopIndex:m})}),v._callOnScroll=void 0,v._callOnScroll=cl(function(_,p,h){return v.props.onScroll({scrollDirection:_,scrollOffset:p,scrollUpdateWasRequested:h})}),v._getItemStyle=void 0,v._getItemStyle=function(_){var p=v.props,h=p.direction,m=p.itemSize,b=p.layout,S=v._getItemStyleCache(u&&m,u&&b,u&&h),E;if(S.hasOwnProperty(_))E=S[_];else{var k=r(v.props,_,v._instanceProps),C=s(v.props,_,v._instanceProps),O=h==="horizontal"||b==="horizontal",L=h==="rtl",B=O?k:0;S[_]=E={position:"absolute",left:L?void 0:B,right:L?B:void 0,top:O?0:k,height:O?"100%":C,width:O?C:"100%"}}return E},v._getItemStyleCache=void 0,v._getItemStyleCache=cl(function(_,p,h){return{}}),v._onScrollHorizontal=function(_){var p=_.currentTarget,h=p.clientWidth,m=p.scrollLeft,b=p.scrollWidth;v.setState(function(S){if(S.scrollOffset===m)return null;var E=v.props.direction,k=m;if(E==="rtl")switch(Oh()){case"negative":k=-m;break;case"positive-descending":k=b-h-m;break}return k=Math.max(0,Math.min(k,b-h)),{isScrolling:!0,scrollDirection:S.scrollOffset<k?"forward":"backward",scrollOffset:k,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._onScrollVertical=function(_){var p=_.currentTarget,h=p.clientHeight,m=p.scrollHeight,b=p.scrollTop;v.setState(function(S){if(S.scrollOffset===b)return null;var E=Math.max(0,Math.min(b,m-h));return{isScrolling:!0,scrollDirection:S.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._outerRefSetter=function(_){var p=v.props.outerRef;v._outerRef=_,typeof p=="function"?p(_):p!=null&&typeof p=="object"&&p.hasOwnProperty("current")&&(p.current=_)},v._resetIsScrollingDebounced=function(){v._resetIsScrollingTimeoutId!==null&&Ch(v._resetIsScrollingTimeoutId),v._resetIsScrollingTimeoutId=y_(v._resetIsScrolling,v_)},v._resetIsScrolling=function(){v._resetIsScrollingTimeoutId=null,v.setState({isScrolling:!1},function(){v._getItemStyleCache(-1,null)})},v}g.getDerivedStateFromProps=function(v,_){return __(v,_),d(v),null};var y=g.prototype;return y.scrollTo=function(v){v=Math.max(0,v),this.setState(function(_){return _.scrollOffset===v?null:{scrollDirection:_.scrollOffset<v?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(v,_){_===void 0&&(_="auto");var p=this.props,h=p.itemCount,m=p.layout,b=this.state.scrollOffset;v=Math.max(0,Math.min(v,h-1));var S=0;if(this._outerRef){var E=this._outerRef;m==="vertical"?S=E.scrollWidth>E.clientWidth?Th():0:S=E.scrollHeight>E.clientHeight?Th():0}this.scrollTo(i(this.props,v,_,b,this._instanceProps,S))},y.componentDidMount=function(){var v=this.props,_=v.direction,p=v.initialScrollOffset,h=v.layout;if(typeof p=="number"&&this._outerRef!=null){var m=this._outerRef;_==="horizontal"||h==="horizontal"?m.scrollLeft=p:m.scrollTop=p}this._callPropsCallbacks()},y.componentDidUpdate=function(){var v=this.props,_=v.direction,p=v.layout,h=this.state,m=h.scrollOffset,b=h.scrollUpdateWasRequested;if(b&&this._outerRef!=null){var S=this._outerRef;if(_==="horizontal"||p==="horizontal")if(_==="rtl")switch(Oh()){case"negative":S.scrollLeft=-m;break;case"positive-ascending":S.scrollLeft=m;break;default:var E=S.clientWidth,k=S.scrollWidth;S.scrollLeft=k-E-m;break}else S.scrollLeft=m;else S.scrollTop=m}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Ch(this._resetIsScrollingTimeoutId)},y.render=function(){var v=this.props,_=v.children,p=v.className,h=v.direction,m=v.height,b=v.innerRef,S=v.innerElementType,E=v.innerTagName,k=v.itemCount,C=v.itemData,O=v.itemKey,L=O===void 0?x_:O,B=v.layout,Z=v.outerElementType,ne=v.outerTagName,K=v.style,G=v.useIsScrolling,A=v.width,q=this.state.isScrolling,j=h==="horizontal"||B==="horizontal",P=j?this._onScrollHorizontal:this._onScrollVertical,$=this._getRangeToRender(),F=$[0],ee=$[1],T=[];if(k>0)for(var V=F;V<=ee;V++)T.push(w.createElement(_,{data:C,key:L(V,C),index:V,isScrolling:G?q:void 0,style:this._getItemStyle(V)}));var N=n(this.props,this._instanceProps);return w.createElement(Z||ne||"div",{className:p,onScroll:P,ref:this._outerRefSetter,style:_c({position:"relative",height:m,width:A,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:h},K)},w.createElement(S||E||"div",{children:T,ref:b,style:{height:j?"100%":N,pointerEvents:q?"none":void 0,width:j?N:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var v=this.props.itemCount;if(v>0){var _=this._getRangeToRender(),p=_[0],h=_[1],m=_[2],b=_[3];this._callOnItemsRendered(p,h,m,b)}}if(typeof this.props.onScroll=="function"){var S=this.state,E=S.scrollDirection,k=S.scrollOffset,C=S.scrollUpdateWasRequested;this._callOnScroll(E,k,C)}},y._getRangeToRender=function(){var v=this.props,_=v.itemCount,p=v.overscanCount,h=this.state,m=h.isScrolling,b=h.scrollDirection,S=h.scrollOffset;if(_===0)return[0,0,0,0];var E=o(this.props,S,this._instanceProps),k=a(this.props,E,S,this._instanceProps),C=!m||b==="backward"?Math.max(1,p):1,O=!m||b==="forward"?Math.max(1,p):1;return[Math.max(0,E-C),Math.max(0,Math.min(_-1,k+O)),E,k]},g}(w.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var __=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},b_=w_({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,s,i,o){var a=t.direction,l=t.height,u=t.itemCount,d=t.itemSize,f=t.layout,g=t.width,y=a==="horizontal"||f==="horizontal",x=y?g:l,v=Math.max(0,u*d-x),_=Math.min(v,r*d),p=Math.max(0,r*d-x+d+o);switch(n==="smart"&&(s>=p-x&&s<=_+x?n="auto":n="center"),n){case"start":return _;case"end":return p;case"center":{var h=Math.round(p+(_-p)/2);return h<Math.ceil(x/2)?0:h>v+Math.floor(x/2)?v:h}case"auto":default:return s>=p&&s<=_?s:s<p?p:_}},getStartIndexForOffset:function(t,r){var n=t.itemCount,s=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/s)))},getStopIndexForStartIndex:function(t,r,n){var s=t.direction,i=t.height,o=t.itemCount,a=t.itemSize,l=t.layout,u=t.width,d=s==="horizontal"||l==="horizontal",f=r*a,g=d?u:i,y=Math.ceil((g+n-f)/a);return Math.max(0,Math.min(o-1,r+y-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const Ni=[{itemName:"2nd Sword Emblem",description:"Bandits often steal this emblem to craft disguises. Used for crafting of weapons and armor.",defaultQuality:1,level:1,grade:"NG",displayRequiredLevel:!1,requiredProfessionId:{guid:"0",typeId:"8125613373123",name:"None"},requiredCertificationLevelId:{guid:"0",typeId:"455189666431",name:"None"},displayRequiredCert:!1,subType:"None",isPlayerCommodity:!1,itemNamePerRarityOverride:{},rarityMin:"Common",rarityMax:"Legendary",statBlockId:{guid:"0",typeId:"10911100031237784",name:"None"},displayIcon:"/Game/UI/Icons/Resource/Raw/TUI_Icon_Resource_Raw_Emblem_2ndSword.TUI_Icon_Resource_Raw_Emblem_2ndSword",resourceDisplayIcon:"/Game/UI/Icons/Resource/Raw/TUI_Icon_Resource_Raw_Emblem_2ndSword.TUI_Icon_Resource_Raw_Emblem_2ndSword",canEquip:!1,hideEquipAppearance:!1,equipSlots:[],setBonusIds:[],physicalMaterial:"None",inventoryFilterType:"Material",questItemSignificance:"Minor",gameplayTags:{gameplayTags:[{tagName:"Artisanship.Gathering"},{tagName:"Item.Resource.Raw"}],parentTags:[{tagName:"Artisanship"},{tagName:"item.resource"},{tagName:"item"}]},itemTypeTags:{gameplayTags:[{tagName:"Artisanship.Gathering"},{tagName:"Item.Resource.Raw"}],parentTags:[{tagName:"Artisanship"},{tagName:"item.resource"},{tagName:"item"}]},certificationTag:{tagName:"None"},professionTag:{tagName:"None"},baseVendorValueId:{guid:"6064632294712541188",typeId:"3145314713",name:"None"},inventoryDimension:{x:1,y:1},maxStackSize:99,bMaxStackSizeAffectedByStats:!0,occupiesAllEquipSlots:!1,expirationPeriod:0,expirationAction:0,attackAbilityId:{guid:"0",typeId:"30316001",name:"None"},relevantTierId:{guid:"0",typeId:"1011111289",name:"None"},activationArchetypeId:{guid:"0",typeId:"1091110014",name:"None"},activationCastId:{guid:"0",typeId:"30316001",name:"None"},activationActionsIds:[],learnableRecipeIds:[],fuelValue:0,tradeable:!0,vendorable:!0,appearanceId:{guid:"0",typeId:"1091110020",name:"None"},resourceBagDefId:{guid:"0",typeId:"1091220022",name:"None"},gatheringToolDataId:{guid:"0",typeId:"19835",name:"None"},enchantmentScrollDefId:{guid:"0",typeId:"10912131337",name:"None"},enchantmentCharmDefId:{guid:"0",typeId:"10912121337",name:"None"},enchantmentDefId:{guid:"0",typeId:"10912151337",name:"None"},enchantmentVFXDefIds:[],enchantmentVFXMesh:"None",weaponSkillLineId:{guid:"0",typeId:"455189666500",name:"None"},qualityCurveId:{guid:"109166871729784",typeId:"1091110011010111",name:"None"},economicRegionId:{guid:"0",typeId:"9127326",name:"None"},packedCrateId:{guid:"0",typeId:"1091110003",name:"None"},crateId:{guid:"0",typeId:"1091110046",name:"None"},caravanComponentId:{guid:"0",typeId:"1012298003",name:"None"},cargoLootTableId:{guid:"0",typeId:"1091110040",name:"None"},imageToShow:"None",summonNotifyClassPath:"None",mountSelfReviveCooldown:{expression:""},guid:"6064630605657669632",name:"Resource_Raw_Emblem_2ndSword",typeId:"1091110003",minRarity:"1",maxRarity:"6",_summary:"undefined undefined",_baseItemValue:{buyingCurrencyTierId:{guid:"6064629127873626112",typeId:"1011111289",name:"None"},sellingCurrencyTierId:{guid:"6064629127873626112",typeId:"1011111289",name:"None"},currencyValues:{},guid:"6064632294712541188",name:"Resource",typeId:"3145314713"},_usedIn:[],_droppedBy:[],_recipeTree:null,_soldBy:[],_rewardFrom:[],_droppedIn:[],_unobtainable:!0}],k_=["Common","Uncommon","Rare","Heroic","Epic","Legendary","Artifact"];function S_({itemGuid:e,itemName:t,guildId:r,onAdd:n}){const[s,i]=w.useState(1),[o,a]=w.useState("Common"),[l,u]=w.useState(!1),d=async()=>{try{u(!0);const{data:{user:f}}=await M.auth.getUser();if(!f)throw new Error("User not authenticated");const{data:g,error:y}=await M.from("inventory_items").select("id, quantity").eq("user_id",f.id).eq("guild_id",r).eq("item_guid",e).eq("rarity",o).maybeSingle();if(y)throw y;if(g){const{error:x}=await M.from("inventory_items").update({quantity:g.quantity+s}).eq("id",g.id);if(x)throw x}else{const{error:x}=await M.from("inventory_items").insert([{item_guid:e,item_name:t,quantity:s,rarity:o,guild_id:r,user_id:f.id}]);if(x)throw x}z.success("Item added to inventory"),i(1),a("Common"),n==null||n()}catch(f){console.error("Error adding item:",f),z.error("Failed to add item to inventory")}finally{u(!1)}};return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"1",value:s,onChange:f=>i(Math.max(1,parseInt(f.target.value,10)||1)),className:"w-16 px-2 py-1 text-sm bg-gray-700 border border-gray-600 rounded text-white"}),c.jsx("select",{value:o,onChange:f=>a(f.target.value),className:"px-2 py-1 text-sm bg-gray-700 border border-gray-600 rounded text-white",children:k_.map(f=>c.jsx("option",{value:f,children:f},f))}),c.jsx("button",{onClick:d,disabled:l,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:l?"Adding...":"Add"})]})}const j_=e=>{if(!e)return"";const r=e.replace(/^\/Game\//,"").split(".");return r.pop(),`https://cdn.ashescodex.com/${r.join(".")}_64.webp`};function Ou({onSelectItem:e,isSelecting:t=!1,slotType:r}){const[n,s]=w.useState([]),[i,o]=w.useState(!0),[a,l]=w.useState(""),[u,d]=w.useState("all"),[f,g]=w.useState(null),[y,x]=w.useState(null);vn();const v=200;w.useEffect(()=>{p(),_()},[r]);const _=async()=>{try{const{data:k,error:C}=await M.from("guilds").select("id").eq("name","Not Gonna Lie").single();if(C)throw C;g(k.id)}catch(k){console.error("Error fetching guild:",k),z.error("Failed to load guild information")}},p=()=>{try{let k=[...Ni];r&&(k=k.filter(C=>{var Z,ne,K,G;const O=((ne=(Z=C.gameplayTags)==null?void 0:Z.gameplayTags)==null?void 0:ne.map(A=>A.tagName.toLowerCase()))||[],L=((G=(K=C.gameplayTags)==null?void 0:K.parentTags)==null?void 0:G.map(A=>A.tagName.toLowerCase()))||[],B=[...O,...L];switch(r){case"head":return B.some(A=>A.includes("head")||A.includes("helmet"));case"chest":return B.some(A=>A.includes("chest")||A.includes("armor.body"));case"forearms":return B.some(A=>A.includes("forearm")||A.includes("bracer"));case"hands":return B.some(A=>A.includes("hand")||A.includes("glove"));case"belt":return B.some(A=>A.includes("belt")||A.includes("waist"));case"legs":return B.some(A=>A.includes("leg")||A.includes("pants"));case"feet":return B.some(A=>A.includes("feet")||A.includes("boot"));case"shoulders":return B.some(A=>A.includes("shoulder")||A.includes("pauldron"));case"back":return B.some(A=>A.includes("back")||A.includes("cloak"));case"earring1":case"earring2":return B.some(A=>A.includes("earring")||A.includes("jewelry.ear"));case"necklace":return B.some(A=>A.includes("necklace")||A.includes("amulet")||A.includes("jewelry.neck"));case"ring1":case"ring2":return B.some(A=>A.includes("ring")||A.includes("jewelry.finger"));case"mainHand1":case"mainHand2":return B.some(A=>A.includes("weapon")||A.includes("mainhand"));case"offHand1":case"offHand2":return B.some(A=>A.includes("shield")||A.includes("offhand"));default:return!0}})),s(k),o(!1)}catch(k){console.error("Error loading items:",k),x("Failed to load items"),z.error("Failed to load items"),o(!1)}},h=(k=[])=>{const C=k.map(O=>O.tagName);return C.some(O=>O.includes("Gathering"))?"gathering":C.some(O=>O.includes("Processing"))?"processing":C.some(O=>O.includes("Crafting"))?"crafting":"other"},m=n.filter(k=>{var L;const C=(k.itemName||"").toLowerCase().includes(a.toLowerCase()),O=u==="all"||h(((L=k.gameplayTags)==null?void 0:L.gameplayTags)||[])===u;return C&&O}),b=k=>{switch(k){case"Common":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"Uncommon":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"Rare":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"Epic":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"Legendary":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},S=({index:k,style:C})=>{var L,B;const O=m[k];return O?c.jsx("div",{style:C,className:"p-2",children:c.jsxs("div",{className:`bg-white bg-gray-with-oppacity rounded-lg shadow-md overflow-hidden ${t?"cursor-pointer hover:border-blue-500 border-2 border-transparent":""}`,onClick:()=>t&&(e==null?void 0:e(O)),"data-ashescodex-id":O.guid,children:[c.jsx("div",{className:"w-full h-32 bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:c.jsx("img",{src:j_(O.displayIcon||""),alt:O.itemName||"Unknown Item",className:"w-full h-full object-contain p-2",loading:"lazy"})}),c.jsxs("div",{className:"p-3",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1 line-clamp-1",children:O.itemName||"Unknown Item"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[(B=(L=O.gameplayTags)==null?void 0:L.gameplayTags)==null?void 0:B.map((Z,ne)=>c.jsx("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded-full ${h([Z])}`,children:Z.tagName.split(".").pop()},ne)),O.rarityMin&&c.jsx("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded-full ${b(O.rarityMin)}`,children:O.rarityMin})]}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:O.description||"No description available"}),f&&!t&&c.jsx(S_,{itemGuid:O.guid,itemName:O.itemName||"Unknown Item",guildId:f})]})]})}):null};w.useEffect(()=>{E.current&&E.current.scrollTo(0)},[a,u]);const E=Ht.createRef();return i?c.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[!t&&c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Item Database"})}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("input",{type:"text",placeholder:"Search items...",value:a,onChange:k=>l(k.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),c.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(km,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),c.jsxs("select",{value:u,onChange:k=>d(k.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Types"}),c.jsx("option",{value:"gathering",children:"Gathering"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"crafting",children:"Crafting"})]})]})]}),y&&c.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ym,{className:"h-4 w-4 text-red-500 dark:text-red-400"}),c.jsx("p",{className:"text-red-700 dark:text-red-200",children:y})]})}),c.jsx("div",{className:"h-[800px]",children:c.jsx(b_,{ref:E,height:800,itemCount:m.length,itemSize:v,width:"100%",className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200",children:S})})]})}const ds=Math.min,sn=Math.max,Go=Math.round,no=Math.floor,Gt=e=>({x:e,y:e}),E_={left:"right",right:"left",bottom:"top",top:"bottom"},N_={start:"end",end:"start"};function kc(e,t,r){return sn(e,ds(t,r))}function Ci(e,t){return typeof e=="function"?e(t):e}function hn(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function e0(e){return e==="x"?"y":"x"}function Pu(e){return e==="y"?"height":"width"}function on(e){return["top","bottom"].includes(hn(e))?"y":"x"}function Ru(e){return e0(on(e))}function C_(e,t,r){r===void 0&&(r=!1);const n=Ti(e),s=Ru(e),i=Pu(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ko(o)),[o,Ko(o)]}function T_(e){const t=Ko(e);return[Sc(e),t,Sc(t)]}function Sc(e){return e.replace(/start|end/g,t=>N_[t])}function O_(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function P_(e,t,r,n){const s=Ti(e);let i=O_(hn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Sc)))),i}function Ko(e){return e.replace(/left|right|bottom|top/g,t=>E_[t])}function R_(e){return{top:0,right:0,bottom:0,left:0,...e}}function t0(e){return typeof e!="number"?R_(e):{top:e,right:e,bottom:e,left:e}}function Qo(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ph(e,t,r){let{reference:n,floating:s}=e;const i=on(t),o=Ru(t),a=Pu(o),l=hn(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,g=n[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:n.y-s.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-s.width,y:f};break;default:y={x:n.x,y:n.y}}switch(Ti(t)){case"start":y[o]-=g*(r&&u?-1:1);break;case"end":y[o]+=g*(r&&u?-1:1);break}return y}const I_=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Ph(u,n,l),g=n,y={},x=0;for(let v=0;v<a.length;v++){const{name:_,fn:p}=a[v],{x:h,y:m,data:b,reset:S}=await p({x:d,y:f,initialPlacement:n,placement:g,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});d=h??d,f=m??f,y={...y,[_]:{...y[_],...b}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Ph(u,g,l)),v=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:y}};async function r0(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=Ci(t,e),x=t0(y),_=a[g?f==="floating"?"reference":"floating":f],p=Qo(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),h=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},S=Qo(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:h,offsetParent:m,strategy:l}):h);return{top:(p.top-S.top+x.top)/b.y,bottom:(S.bottom-p.bottom+x.bottom)/b.y,left:(p.left-S.left+x.left)/b.x,right:(S.right-p.right+x.right)/b.x}}const A_=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Ci(e,t)||{};if(u==null)return{};const f=t0(d),g={x:r,y:n},y=Ru(s),x=Pu(y),v=await o.getDimensions(u),_=y==="y",p=_?"top":"left",h=_?"bottom":"right",m=_?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[y]-g[y]-i.floating[x],S=g[y]-i.reference[y],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=E?E[m]:0;(!k||!await(o.isElement==null?void 0:o.isElement(E)))&&(k=a.floating[m]||i.floating[x]);const C=b/2-S/2,O=k/2-v[x]/2-1,L=ds(f[p],O),B=ds(f[h],O),Z=L,ne=k-v[x]-B,K=k/2-v[x]/2+C,G=kc(Z,K,ne),A=!l.arrow&&Ti(s)!=null&&K!==G&&i.reference[x]/2-(K<Z?L:B)-v[x]/2<0,q=A?K<Z?K-Z:K-ne:0;return{[y]:g[y]+q,data:{[y]:G,centerOffset:K-G-q,...A&&{alignmentOffset:q}},reset:A}}}),$_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,..._}=Ci(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const p=hn(s),h=on(a),m=hn(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=g||(m||!v?[Ko(a)]:T_(a)),E=x!=="none";!g&&E&&S.push(...P_(a,v,x,b));const k=[a,...S],C=await r0(t,_),O=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(C[p]),f){const G=C_(s,o,b);O.push(C[G[0]],C[G[1]])}if(L=[...L,{placement:s,overflows:O}],!O.every(G=>G<=0)){var B,Z;const G=(((B=i.flip)==null?void 0:B.index)||0)+1,A=k[G];if(A){var ne;const j=f==="alignment"?h!==on(A):!1,P=((ne=L[0])==null?void 0:ne.overflows[0])>0;if(!j||P)return{data:{index:G,overflows:L},reset:{placement:A}}}let q=(Z=L.filter(j=>j.overflows[0]<=0).sort((j,P)=>j.overflows[1]-P.overflows[1])[0])==null?void 0:Z.placement;if(!q)switch(y){case"bestFit":{var K;const j=(K=L.filter(P=>{if(E){const $=on(P.placement);return $===h||$==="y"}return!0}).map(P=>[P.placement,P.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((P,$)=>P[1]-$[1])[0])==null?void 0:K[0];j&&(q=j);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};async function L_(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=hn(r),a=Ti(r),l=on(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=Ci(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),l?{x:y*d,y:g*u}:{x:g*u,y:y*d}}const D_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await L_(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},M_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:p,y:h}=_;return{x:p,y:h}}},...l}=Ci(e,t),u={x:r,y:n},d=await r0(t,l),f=on(hn(s)),g=e0(f);let y=u[g],x=u[f];if(i){const _=g==="y"?"top":"left",p=g==="y"?"bottom":"right",h=y+d[_],m=y-d[p];y=kc(h,y,m)}if(o){const _=f==="y"?"top":"left",p=f==="y"?"bottom":"right",h=x+d[_],m=x-d[p];x=kc(h,x,m)}const v=a.fn({...t,[g]:y,[f]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[g]:i,[f]:o}}}}}};function Sa(){return typeof window<"u"}function vs(e){return n0(e)?(e.nodeName||"").toLowerCase():"#document"}function ct(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qt(e){var t;return(t=(n0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n0(e){return Sa()?e instanceof Node||e instanceof ct(e).Node:!1}function It(e){return Sa()?e instanceof Element||e instanceof ct(e).Element:!1}function Kt(e){return Sa()?e instanceof HTMLElement||e instanceof ct(e).HTMLElement:!1}function Rh(e){return!Sa()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ct(e).ShadowRoot}function Oi(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=At(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function U_(e){return["table","td","th"].includes(vs(e))}function ja(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Iu(e){const t=Au(),r=It(e)?At(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function z_(e){let t=Lr(e);for(;Kt(t)&&!hs(t);){if(Iu(t))return t;if(ja(t))return null;t=Lr(t)}return null}function Au(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hs(e){return["html","body","#document"].includes(vs(e))}function At(e){return ct(e).getComputedStyle(e)}function Ea(e){return It(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Lr(e){if(vs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rh(e)&&e.host||Qt(e);return Rh(t)?t.host:t}function s0(e){const t=Lr(e);return hs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Kt(t)&&Oi(t)?t:s0(t)}function vi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=s0(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ct(s);if(i){const a=jc(o);return t.concat(o,o.visualViewport||[],Oi(s)?s:[],a&&r?vi(a):[])}return t.concat(s,vi(s,[],r))}function jc(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i0(e){const t=At(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Kt(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=Go(r)!==i||Go(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function $u(e){return It(e)?e:e.contextElement}function ts(e){const t=$u(e);if(!Kt(t))return Gt(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=i0(t);let o=(i?Go(r.width):r.width)/n,a=(i?Go(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const F_=Gt(0);function o0(e){const t=ct(e);return!Au()||!t.visualViewport?F_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B_(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ct(e)?!1:t}function fn(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=$u(e);let o=Gt(1);t&&(n?It(n)&&(o=ts(n)):o=ts(e));const a=B_(i,r,n)?o0(i):Gt(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const g=ct(i),y=n&&It(n)?ct(n):n;let x=g,v=jc(x);for(;v&&n&&y!==x;){const _=ts(v),p=v.getBoundingClientRect(),h=At(v),m=p.left+(v.clientLeft+parseFloat(h.paddingLeft))*_.x,b=p.top+(v.clientTop+parseFloat(h.paddingTop))*_.y;l*=_.x,u*=_.y,d*=_.x,f*=_.y,l+=m,u+=b,x=ct(v),v=jc(x)}}return Qo({width:d,height:f,x:l,y:u})}function Lu(e,t){const r=Ea(e).scrollLeft;return t?t.left+r:fn(Qt(e)).left+r}function a0(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Lu(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function q_(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Qt(n),a=t?ja(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Gt(1);const d=Gt(0),f=Kt(n);if((f||!f&&!i)&&((vs(n)!=="body"||Oi(o))&&(l=Ea(n)),Kt(n))){const y=fn(n);u=ts(n),d.x=y.x+n.clientLeft,d.y=y.y+n.clientTop}const g=o&&!f&&!i?a0(o,l,!0):Gt(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-l.scrollTop*u.y+d.y+g.y}}function H_(e){return Array.from(e.getClientRects())}function V_(e){const t=Qt(e),r=Ea(e),n=e.ownerDocument.body,s=sn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=sn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Lu(e);const a=-r.scrollTop;return At(n).direction==="rtl"&&(o+=sn(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function W_(e,t){const r=ct(e),n=Qt(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Au();(!u||u&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function G_(e,t){const r=fn(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Kt(e)?ts(e):Gt(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function Ih(e,t,r){let n;if(t==="viewport")n=W_(e,r);else if(t==="document")n=V_(Qt(e));else if(It(t))n=G_(t,r);else{const s=o0(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Qo(n)}function l0(e,t){const r=Lr(e);return r===t||!It(r)||hs(r)?!1:At(r).position==="fixed"||l0(r,t)}function K_(e,t){const r=t.get(e);if(r)return r;let n=vi(e,[],!1).filter(a=>It(a)&&vs(a)!=="body"),s=null;const i=At(e).position==="fixed";let o=i?Lr(e):e;for(;It(o)&&!hs(o);){const a=At(o),l=Iu(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Oi(o)&&!l&&l0(e,o))?n=n.filter(d=>d!==o):s=a,o=Lr(o)}return t.set(e,n),n}function Q_(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?ja(t)?[]:K_(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,d)=>{const f=Ih(t,d,s);return u.top=sn(f.top,u.top),u.right=ds(f.right,u.right),u.bottom=ds(f.bottom,u.bottom),u.left=sn(f.left,u.left),u},Ih(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J_(e){const{width:t,height:r}=i0(e);return{width:t,height:r}}function Y_(e,t,r){const n=Kt(t),s=Qt(t),i=r==="fixed",o=fn(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Gt(0);function u(){l.x=Lu(s)}if(n||!n&&!i)if((vs(t)!=="body"||Oi(s))&&(a=Ea(t)),n){const y=fn(t,!0,i,t);l.x=y.x+t.clientLeft,l.y=y.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?a0(s,a):Gt(0),f=o.left+a.scrollLeft-l.x-d.x,g=o.top+a.scrollTop-l.y-d.y;return{x:f,y:g,width:o.width,height:o.height}}function dl(e){return At(e).position==="static"}function Ah(e,t){if(!Kt(e)||At(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qt(e)===r&&(r=r.ownerDocument.body),r}function c0(e,t){const r=ct(e);if(ja(e))return r;if(!Kt(e)){let s=Lr(e);for(;s&&!hs(s);){if(It(s)&&!dl(s))return s;s=Lr(s)}return r}let n=Ah(e,t);for(;n&&U_(n)&&dl(n);)n=Ah(n,t);return n&&hs(n)&&dl(n)&&!Iu(n)?r:n||z_(e)||r}const X_=async function(e){const t=this.getOffsetParent||c0,r=this.getDimensions,n=await r(e.floating);return{reference:Y_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Z_(e){return At(e).direction==="rtl"}const eb={convertOffsetParentRelativeRectToViewportRelativeRect:q_,getDocumentElement:Qt,getClippingRect:Q_,getOffsetParent:c0,getElementRects:X_,getClientRects:H_,getDimensions:J_,getScale:ts,isElement:It,isRTL:Z_};function u0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tb(e,t){let r=null,n;const s=Qt(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:g,height:y}=u;if(a||t(),!g||!y)return;const x=no(f),v=no(s.clientWidth-(d+g)),_=no(s.clientHeight-(f+y)),p=no(d),m={rootMargin:-x+"px "+-v+"px "+-_+"px "+-p+"px",threshold:sn(0,ds(1,l))||1};let b=!0;function S(E){const k=E[0].intersectionRatio;if(k!==l){if(!b)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!u0(u,e.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(S,{...m,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,m)}r.observe(e)}return o(!0),i}function rb(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=$u(e),d=s||i?[...u?vi(u):[],...vi(t)]:[];d.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),i&&p.addEventListener("resize",r)});const f=u&&a?tb(u,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(p=>{let[h]=p;h&&h.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var m;(m=y)==null||m.observe(t)})),r()}),u&&!l&&y.observe(u),y.observe(t));let x,v=l?fn(e):null;l&&_();function _(){const p=fn(e);v&&!u0(v,p)&&r(),v=p,x=requestAnimationFrame(_)}return r(),()=>{var p;d.forEach(h=>{s&&h.removeEventListener("scroll",r),i&&h.removeEventListener("resize",r)}),f==null||f(),(p=y)==null||p.disconnect(),y=null,l&&cancelAnimationFrame(x)}}const nb=D_,sb=M_,ib=$_,ob=A_,$h=(e,t,r)=>{const n=new Map,s={platform:eb,...r},i={...s.platform,_c:n};return I_(e,t,{...s,platform:i})};var d0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,n(a)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)t.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(d0);var ab=d0.exports;const Ec=qh(ab);/*
* React Tooltip
* {@link https://github.com/ReactTooltip/react-tooltip}
* @copyright ReactTooltip Team
* @license MIT
*/const lb="react-tooltip-core-styles",cb="react-tooltip-base-styles",Lh={core:!1,base:!1};function Dh({css:e,id:t=cb,type:r="base",ref:n}){var s,i;if(!e||typeof document>"u"||Lh[r]||r==="core"&&typeof process<"u"&&(!((s=process==null?void 0:process.env)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((i=process==null?void 0:process.env)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=lb),n||(n={});const{insertAt:o}=n;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),Lh[r]=!0}const Mh=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:s=10,strategy:i="absolute",middlewares:o=[nb(Number(s)),ib({fallbackAxisSideDirection:"start"}),sb({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const l=o;return r?(l.push(ob({element:r,padding:5})),$h(e,t,{placement:n,strategy:i,middleware:l}).then(({x:u,y:d,placement:f,middlewareData:g})=>{var y,x;const v={left:`${u}px`,top:`${d}px`,border:a},{x:_,y:p}=(y=g.arrow)!==null&&y!==void 0?y:{x:0,y:0},h=(x={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]])!==null&&x!==void 0?x:"bottom",m=a&&{borderBottom:a,borderRight:a};let b=0;if(a){const S=`${a}`.match(/(\d+)px/);b=S!=null&&S[1]?Number(S[1]):1}return{tooltipStyles:v,tooltipArrowStyles:{left:_!=null?`${_}px`:"",top:p!=null?`${p}px`:"",right:"",bottom:"",...m,[h]:`-${4+b}px`},place:f}})):$h(e,t,{placement:"bottom",strategy:i,middleware:l}).then(({x:u,y:d,placement:f})=>({tooltipStyles:{left:`${u}px`,top:`${d}px`},tooltipArrowStyles:{},place:f}))},Uh=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),zh=(e,t,r)=>{let n=null;const s=function(...i){const o=()=>{n=null,r||e.apply(this,i)};r&&!n&&(e.apply(this,i),n=setTimeout(o,t)),r||(n&&clearTimeout(n),n=setTimeout(o,t))};return s.cancel=()=>{n&&(clearTimeout(n),n=null)},s},Fh=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",Nc=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,i)=>Nc(s,t[i]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!Fh(e)||!Fh(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(s=>Nc(e[s],t[s]))},ub=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},Bh=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(ub(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},db=typeof window<"u"?w.useLayoutEffect:w.useEffect,mt=e=>{e.current&&(clearTimeout(e.current),e.current=null)},hb="DEFAULT_TOOLTIP_ID",fb={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},pb=w.createContext({getTooltipData:()=>fb});function h0(e=hb){return w.useContext(pb).getTooltipData(e)}var An={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},hl={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const mb=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:s="dark",anchorId:i,anchorSelect:o,place:a="top",offset:l=10,events:u=["hover"],openOnClick:d=!1,positionStrategy:f="absolute",middlewares:g,wrapper:y,delayShow:x=0,delayHide:v=0,float:_=!1,hidden:p=!1,noArrow:h=!1,clickable:m=!1,closeOnEsc:b=!1,closeOnScroll:S=!1,closeOnResize:E=!1,openEvents:k,closeEvents:C,globalCloseEvents:O,imperativeModeOnly:L,style:B,position:Z,afterShow:ne,afterHide:K,disableTooltip:G,content:A,contentWrapperRef:q,isOpen:j,defaultIsOpen:P=!1,setIsOpen:$,activeAnchor:F,setActiveAnchor:ee,border:T,opacity:V,arrowColor:N,role:R="tooltip"})=>{var J;const Y=w.useRef(null),ie=w.useRef(null),le=w.useRef(null),ke=w.useRef(null),He=w.useRef(null),[oe,kt]=w.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[Se,$t]=w.useState(!1),[Lt,Dt]=w.useState(!1),[he,ur]=w.useState(null),dr=w.useRef(!1),nt=w.useRef(null),{anchorRefs:xs,setActiveAnchor:Pi}=h0(t),_n=w.useRef(!1),[hr,ws]=w.useState([]),Br=w.useRef(!1),bn=d||u.includes("click"),Na=bn||(k==null?void 0:k.click)||(k==null?void 0:k.dblclick)||(k==null?void 0:k.mousedown),kn=k?{...k}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!k&&bn&&Object.assign(kn,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const qr=C?{...C}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!C&&bn&&Object.assign(qr,{mouseleave:!1,blur:!1,mouseout:!1});const St=O?{...O}:{escape:b||!1,scroll:S||!1,resize:E||!1,clickOutsideAnchor:Na||!1};L&&(Object.assign(kn,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(qr,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(St,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),db(()=>(Br.current=!0,()=>{Br.current=!1}),[]);const Ee=D=>{Br.current&&(D&&Dt(!0),setTimeout(()=>{Br.current&&($==null||$(D),j===void 0&&$t(D))},10))};w.useEffect(()=>{if(j===void 0)return()=>null;j&&Dt(!0);const D=setTimeout(()=>{$t(j)},10);return()=>{clearTimeout(D)}},[j]),w.useEffect(()=>{if(Se!==dr.current)if(mt(He),dr.current=Se,Se)ne==null||ne();else{const D=(W=>{const Q=W.match(/^([\d.]+)(ms|s)$/);if(!Q)return 0;const[,Ce,Ue]=Q;return Number(Ce)*(Ue==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));He.current=setTimeout(()=>{Dt(!1),ur(null),K==null||K()},D+25)}},[Se]);const Ri=D=>{kt(W=>Nc(W,D)?W:D)},_s=(D=x)=>{mt(le),Lt?Ee(!0):le.current=setTimeout(()=>{Ee(!0)},D)},Sn=(D=v)=>{mt(ke),ke.current=setTimeout(()=>{_n.current||Ee(!1)},D)},bs=D=>{var W;if(!D)return;const Q=(W=D.currentTarget)!==null&&W!==void 0?W:D.target;if(!(Q!=null&&Q.isConnected))return ee(null),void Pi({current:null});x?_s():Ee(!0),ee(Q),Pi({current:Q}),mt(ke)},jn=()=>{m?Sn(v||100):v?Sn():Ee(!1),mt(le)},En=({x:D,y:W})=>{var Q;const Ce={getBoundingClientRect:()=>({x:D,y:W,width:0,height:0,top:W,left:D,right:D,bottom:W})};Mh({place:(Q=he==null?void 0:he.place)!==null&&Q!==void 0?Q:a,offset:l,elementReference:Ce,tooltipReference:Y.current,tooltipArrowReference:ie.current,strategy:f,middlewares:g,border:T}).then(Ue=>{Ri(Ue)})},Nn=D=>{if(!D)return;const W=D,Q={x:W.clientX,y:W.clientY};En(Q),nt.current=Q},ks=D=>{var W;if(!Se)return;const Q=D.target;Q.isConnected&&(!((W=Y.current)===null||W===void 0)&&W.contains(Q)||[document.querySelector(`[id='${i}']`),...hr].some(Ce=>Ce==null?void 0:Ce.contains(Q))||(Ee(!1),mt(le)))},Ii=zh(bs,50,!0),Re=zh(jn,50,!0),ft=D=>{Re.cancel(),Ii(D)},H=()=>{Ii.cancel(),Re()},se=w.useCallback(()=>{var D,W;const Q=(D=he==null?void 0:he.position)!==null&&D!==void 0?D:Z;Q?En(Q):_?nt.current&&En(nt.current):F!=null&&F.isConnected&&Mh({place:(W=he==null?void 0:he.place)!==null&&W!==void 0?W:a,offset:l,elementReference:F,tooltipReference:Y.current,tooltipArrowReference:ie.current,strategy:f,middlewares:g,border:T}).then(Ce=>{Br.current&&Ri(Ce)})},[Se,F,A,B,a,he==null?void 0:he.place,l,f,Z,he==null?void 0:he.position,_]);w.useEffect(()=>{var D,W;const Q=new Set(xs);hr.forEach(ue=>{G!=null&&G(ue)||Q.add({current:ue})});const Ce=document.querySelector(`[id='${i}']`);Ce&&!(G!=null&&G(Ce))&&Q.add({current:Ce});const Ue=()=>{Ee(!1)},Mt=Bh(F),Ut=Bh(Y.current);St.scroll&&(window.addEventListener("scroll",Ue),Mt==null||Mt.addEventListener("scroll",Ue),Ut==null||Ut.addEventListener("scroll",Ue));let Ve=null;St.resize?window.addEventListener("resize",Ue):F&&Y.current&&(Ve=rb(F,Y.current,se,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const pt=ue=>{ue.key==="Escape"&&Ee(!1)};St.escape&&window.addEventListener("keydown",pt),St.clickOutsideAnchor&&window.addEventListener("click",ks);const ye=[],Cn=ue=>!!(ue!=null&&ue.target&&(F!=null&&F.contains(ue.target))),p0=ue=>{Se&&Cn(ue)||bs(ue)},m0=ue=>{Se&&Cn(ue)&&jn()},Du=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Mu=["click","dblclick","mousedown","mouseup"];Object.entries(kn).forEach(([ue,Jt])=>{Jt&&(Du.includes(ue)?ye.push({event:ue,listener:ft}):Mu.includes(ue)&&ye.push({event:ue,listener:p0}))}),Object.entries(qr).forEach(([ue,Jt])=>{Jt&&(Du.includes(ue)?ye.push({event:ue,listener:H}):Mu.includes(ue)&&ye.push({event:ue,listener:m0}))}),_&&ye.push({event:"pointermove",listener:Nn});const Uu=()=>{_n.current=!0},zu=()=>{_n.current=!1,jn()},Fu=m&&(qr.mouseout||qr.mouseleave);return Fu&&((D=Y.current)===null||D===void 0||D.addEventListener("mouseover",Uu),(W=Y.current)===null||W===void 0||W.addEventListener("mouseout",zu)),ye.forEach(({event:ue,listener:Jt})=>{Q.forEach(Ca=>{var Ss;(Ss=Ca.current)===null||Ss===void 0||Ss.addEventListener(ue,Jt)})}),()=>{var ue,Jt;St.scroll&&(window.removeEventListener("scroll",Ue),Mt==null||Mt.removeEventListener("scroll",Ue),Ut==null||Ut.removeEventListener("scroll",Ue)),St.resize?window.removeEventListener("resize",Ue):Ve==null||Ve(),St.clickOutsideAnchor&&window.removeEventListener("click",ks),St.escape&&window.removeEventListener("keydown",pt),Fu&&((ue=Y.current)===null||ue===void 0||ue.removeEventListener("mouseover",Uu),(Jt=Y.current)===null||Jt===void 0||Jt.removeEventListener("mouseout",zu)),ye.forEach(({event:Ca,listener:Ss})=>{Q.forEach(g0=>{var Ta;(Ta=g0.current)===null||Ta===void 0||Ta.removeEventListener(Ca,Ss)})})}},[F,se,Lt,xs,hr,k,C,O,bn,x,v]),w.useEffect(()=>{var D,W;let Q=(W=(D=he==null?void 0:he.anchorSelect)!==null&&D!==void 0?D:o)!==null&&W!==void 0?W:"";!Q&&t&&(Q=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Ce=new MutationObserver(Ue=>{const Mt=[],Ut=[];Ue.forEach(Ve=>{if(Ve.type==="attributes"&&Ve.attributeName==="data-tooltip-id"&&(Ve.target.getAttribute("data-tooltip-id")===t?Mt.push(Ve.target):Ve.oldValue===t&&Ut.push(Ve.target)),Ve.type==="childList"){if(F){const pt=[...Ve.removedNodes].filter(ye=>ye.nodeType===1);if(Q)try{Ut.push(...pt.filter(ye=>ye.matches(Q))),Ut.push(...pt.flatMap(ye=>[...ye.querySelectorAll(Q)]))}catch{}pt.some(ye=>{var Cn;return!!(!((Cn=ye==null?void 0:ye.contains)===null||Cn===void 0)&&Cn.call(ye,F))&&(Dt(!1),Ee(!1),ee(null),mt(le),mt(ke),!0)})}if(Q)try{const pt=[...Ve.addedNodes].filter(ye=>ye.nodeType===1);Mt.push(...pt.filter(ye=>ye.matches(Q))),Mt.push(...pt.flatMap(ye=>[...ye.querySelectorAll(Q)]))}catch{}}}),(Mt.length||Ut.length)&&ws(Ve=>[...Ve.filter(pt=>!Ut.includes(pt)),...Mt])});return Ce.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Ce.disconnect()}},[t,o,he==null?void 0:he.anchorSelect,F]),w.useEffect(()=>{se()},[se]),w.useEffect(()=>{if(!(q!=null&&q.current))return()=>null;const D=new ResizeObserver(()=>{setTimeout(()=>se())});return D.observe(q.current),()=>{D.disconnect()}},[A,q==null?void 0:q.current]),w.useEffect(()=>{var D;const W=document.querySelector(`[id='${i}']`),Q=[...hr,W];F&&Q.includes(F)||ee((D=hr[0])!==null&&D!==void 0?D:W)},[i,hr,F]),w.useEffect(()=>(P&&Ee(!0),()=>{mt(le),mt(ke)}),[]),w.useEffect(()=>{var D;let W=(D=he==null?void 0:he.anchorSelect)!==null&&D!==void 0?D:o;if(!W&&t&&(W=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),W)try{const Q=Array.from(document.querySelectorAll(W));ws(Q)}catch{ws([])}},[t,o,he==null?void 0:he.anchorSelect]),w.useEffect(()=>{le.current&&(mt(le),_s(x))},[x]);const st=(J=he==null?void 0:he.content)!==null&&J!==void 0?J:A,Hr=Se&&Object.keys(oe.tooltipStyles).length>0;return w.useImperativeHandle(e,()=>({open:D=>{if(D!=null&&D.anchorSelect)try{document.querySelector(D.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${D.anchorSelect}" is not a valid CSS selector`)}ur(D??null),D!=null&&D.delay?_s(D.delay):Ee(!0)},close:D=>{D!=null&&D.delay?Sn(D.delay):Ee(!1)},activeAnchor:F,place:oe.place,isOpen:!!(Lt&&!p&&st&&Hr)})),Lt&&!p&&st?Ht.createElement(y,{id:t,role:R,className:Ec("react-tooltip",An.tooltip,hl.tooltip,hl[s],r,`react-tooltip__place-${oe.place}`,An[Hr?"show":"closing"],Hr?"react-tooltip__show":"react-tooltip__closing",f==="fixed"&&An.fixed,m&&An.clickable),onTransitionEnd:D=>{mt(He),Se||D.propertyName!=="opacity"||(Dt(!1),ur(null),K==null||K())},style:{...B,...oe.tooltipStyles,opacity:V!==void 0&&Hr?V:void 0},ref:Y},st,Ht.createElement(y,{className:Ec("react-tooltip-arrow",An.arrow,hl.arrow,n,h&&An.noArrow),style:{...oe.tooltipArrowStyles,background:N?`linear-gradient(to right bottom, transparent 50%, ${N} 50%)`:void 0},ref:ie})):null},gb=({content:e})=>Ht.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),yb=Ht.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:s,render:i,className:o,classNameArrow:a,variant:l="dark",place:u="top",offset:d=10,wrapper:f="div",children:g=null,events:y=["hover"],openOnClick:x=!1,positionStrategy:v="absolute",middlewares:_,delayShow:p=0,delayHide:h=0,float:m=!1,hidden:b=!1,noArrow:S=!1,clickable:E=!1,closeOnEsc:k=!1,closeOnScroll:C=!1,closeOnResize:O=!1,openEvents:L,closeEvents:B,globalCloseEvents:Z,imperativeModeOnly:ne=!1,style:K,position:G,isOpen:A,defaultIsOpen:q=!1,disableStyleInjection:j=!1,border:P,opacity:$,arrowColor:F,setIsOpen:ee,afterShow:T,afterHide:V,disableTooltip:N,role:R="tooltip"},J)=>{const[Y,ie]=w.useState(n),[le,ke]=w.useState(s),[He,oe]=w.useState(u),[kt,Se]=w.useState(l),[$t,Lt]=w.useState(d),[Dt,he]=w.useState(p),[ur,dr]=w.useState(h),[nt,xs]=w.useState(m),[Pi,_n]=w.useState(b),[hr,ws]=w.useState(f),[Br,bn]=w.useState(y),[Na,kn]=w.useState(v),[qr,St]=w.useState(null),[Ee,Ri]=w.useState(null),_s=w.useRef(j),{anchorRefs:Sn,activeAnchor:bs}=h0(e),jn=Re=>Re==null?void 0:Re.getAttributeNames().reduce((ft,H)=>{var se;return H.startsWith("data-tooltip-")&&(ft[H.replace(/^data-tooltip-/,"")]=(se=Re==null?void 0:Re.getAttribute(H))!==null&&se!==void 0?se:null),ft},{}),En=Re=>{const ft={place:H=>{var se;oe((se=H)!==null&&se!==void 0?se:u)},content:H=>{ie(H??n)},html:H=>{ke(H??s)},variant:H=>{var se;Se((se=H)!==null&&se!==void 0?se:l)},offset:H=>{Lt(H===null?d:Number(H))},wrapper:H=>{var se;ws((se=H)!==null&&se!==void 0?se:f)},events:H=>{const se=H==null?void 0:H.split(" ");bn(se??y)},"position-strategy":H=>{var se;kn((se=H)!==null&&se!==void 0?se:v)},"delay-show":H=>{he(H===null?p:Number(H))},"delay-hide":H=>{dr(H===null?h:Number(H))},float:H=>{xs(H===null?m:H==="true")},hidden:H=>{_n(H===null?b:H==="true")},"class-name":H=>{St(H)}};Object.values(ft).forEach(H=>H(null)),Object.entries(Re).forEach(([H,se])=>{var st;(st=ft[H])===null||st===void 0||st.call(ft,se)})};w.useEffect(()=>{ie(n)},[n]),w.useEffect(()=>{ke(s)},[s]),w.useEffect(()=>{oe(u)},[u]),w.useEffect(()=>{Se(l)},[l]),w.useEffect(()=>{Lt(d)},[d]),w.useEffect(()=>{he(p)},[p]),w.useEffect(()=>{dr(h)},[h]),w.useEffect(()=>{xs(m)},[m]),w.useEffect(()=>{_n(b)},[b]),w.useEffect(()=>{kn(v)},[v]),w.useEffect(()=>{_s.current!==j&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[j]),w.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:j==="core",disableBase:j}}))},[]),w.useEffect(()=>{var Re;const ft=new Set(Sn);let H=r;if(!H&&e&&(H=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),H)try{document.querySelectorAll(H).forEach(W=>{ft.add({current:W})})}catch{console.warn(`[react-tooltip] "${H}" is not a valid CSS selector`)}const se=document.querySelector(`[id='${t}']`);if(se&&ft.add({current:se}),!ft.size)return()=>null;const st=(Re=Ee??se)!==null&&Re!==void 0?Re:bs.current,Hr=new MutationObserver(W=>{W.forEach(Q=>{var Ce;if(!st||Q.type!=="attributes"||!(!((Ce=Q.attributeName)===null||Ce===void 0)&&Ce.startsWith("data-tooltip-")))return;const Ue=jn(st);En(Ue)})}),D={attributes:!0,childList:!1,subtree:!1};if(st){const W=jn(st);En(W),Hr.observe(st,D)}return()=>{Hr.disconnect()}},[Sn,bs,Ee,t,r]),w.useEffect(()=>{K!=null&&K.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),P&&!Uh("border",`${P}`)&&console.warn(`[react-tooltip] "${P}" is not a valid \`border\`.`),K!=null&&K.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),$&&!Uh("opacity",`${$}`)&&console.warn(`[react-tooltip] "${$}" is not a valid \`opacity\`.`)},[]);let Nn=g;const ks=w.useRef(null);if(i){const Re=i({content:(Ee==null?void 0:Ee.getAttribute("data-tooltip-content"))||Y||null,activeAnchor:Ee});Nn=Re?Ht.createElement("div",{ref:ks,className:"react-tooltip-content-wrapper"},Re):null}else Y&&(Nn=Y);le&&(Nn=Ht.createElement(gb,{content:le}));const Ii={forwardRef:J,id:e,anchorId:t,anchorSelect:r,className:Ec(o,qr),classNameArrow:a,content:Nn,contentWrapperRef:ks,place:He,variant:kt,offset:$t,wrapper:hr,events:Br,openOnClick:x,positionStrategy:Na,middlewares:_,delayShow:Dt,delayHide:ur,float:nt,hidden:Pi,noArrow:S,clickable:E,closeOnEsc:k,closeOnScroll:C,closeOnResize:O,openEvents:L,closeEvents:B,globalCloseEvents:Z,imperativeModeOnly:ne,style:K,position:G,isOpen:A,defaultIsOpen:q,border:P,opacity:$,arrowColor:F,setIsOpen:ee,afterShow:T,afterHide:V,disableTooltip:N,activeAnchor:Ee,setActiveAnchor:Re=>Ri(Re),role:R};return Ht.createElement(mb,{...Ii})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||Dh({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||Dh({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function f0({equipment:e,characterId:t,onEquipmentUpdate:r,isEditable:n=!0}){const[s,i]=w.useState(null),[o,a]=w.useState(!1),l=[{id:"head",label:"Head"},{id:"chest",label:"Armor Chest"},{id:"forearms",label:"Armor Forearms"},{id:"hands",label:"Armor Hands"},{id:"belt",label:"Belt"},{id:"legs",label:"Armor Legs"},{id:"feet",label:"Armor Feet"}],u=[{id:"shoulders",label:"Shoulders"},{id:"back",label:"Back"},{id:"earring1",label:"Earring 1"},{id:"earring2",label:"Earring 2"},{id:"necklace",label:"Necklace"},{id:"ring1",label:"Ring 1"},{id:"ring2",label:"Ring 2"}],d=[{id:"mainHand1",label:"Main Hand 1"},{id:"mainHand2",label:"Main Hand 2"},{id:"offHand1",label:"Off Hand 1"},{id:"offHand2",label:"Off Hand 2"}],f=h=>{n&&(i(h),a(!0))},g=async h=>{var m,b;if(s)try{const S={...e},E=(b=(m=h.gameplayTags)==null?void 0:m.gameplayTags)==null?void 0:b.some(O=>O.tagName.includes("TwoHanded"));E&&(s==="mainHand1"?(delete S.mainHand2,delete S.offHand1):s==="mainHand2"&&(delete S.mainHand1,delete S.offHand2));const k=Ni.find(O=>O.guid===h.guid);if(!k)throw new Error("Item data not found");S[s]={item_guid:h.guid,item_name:h.itemName,rarity:h.rarityMin,isTwoHanded:E,displayIcon:k.displayIcon,description:h.description,level:h.level,tags:h.gameplayTags.gameplayTags.map(O=>O.tagName)};const{error:C}=await M.from("characters").update({equipment:S}).eq("id",t);if(C)throw C;r(S),a(!1),i(null),z.success(`Equipped ${h.itemName}`)}catch(S){console.error("Error equipping item:",S),z.error("Failed to equip item")}},y=async h=>{if(!(!n||!e[h]))try{const m={...e},b=m[h];delete m[h];const{error:S}=await M.from("characters").update({equipment:m}).eq("id",t);if(S)throw S;r(m),z.success(`Removed ${b==null?void 0:b.item_name}`)}catch(m){console.error("Error removing item:",m),z.error("Failed to remove item")}},x=h=>{switch(h){case"Common":return"border-gray-400";case"Uncommon":return"border-green-400";case"Rare":return"border-blue-400";case"Heroic":return"border-purple-400";case"Epic":return"border-yellow-400";case"Legendary":return"border-orange-400";case"Artifact":return"border-red-400";default:return"border-gray-400"}},v=h=>{const b=h.replace(/^\/Game\//,"").split(".");return b.pop(),`https://cdn.ashescodex.com/${b.join(".")}_64.webp`},_=h=>{if(!h)return"";const m=h.tags?`
Tags: ${h.tags.map(S=>S.split(".").pop()).join(", ")}`:"",b=h.level?`
Level: ${h.level}`:"";return`${h.item_name}
${h.rarity}${h.isTwoHanded?" (Two-handed)":""}

${h.description||""}${b}${m}`},p=({id:h,label:m})=>{var E,k;const b=e[h],S=(b==null?void 0:b.isTwoHanded)&&(h==="mainHand2"&&((E=e.mainHand1)==null?void 0:E.isTwoHanded)||h==="mainHand1"&&((k=e.mainHand2)==null?void 0:k.isTwoHanded));return c.jsxs("div",{className:"relative",children:[c.jsx("div",{onClick:()=>!S&&f(h),className:`relative w-16 h-16 border-2 ${b?`${x(b.rarity)} bg-gray-800/80`:"border-gray-600 bg-gray-800/60"} ${n&&!S?"cursor-pointer hover:border-blue-500 hover:bg-gray-700/80":"cursor-default"} ${S?"opacity-50":""} rounded-lg overflow-hidden transition-all duration-200`,"data-tooltip-id":`item-tooltip-${h}`,"data-tooltip-content":S?"Slot locked (Two-handed weapon equipped)":b?_(b):n?`Empty ${m} Slot
Click to equip`:`Empty ${m} Slot`,"data-tooltip-place":"top",children:b?c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx("img",{src:v(b.displayIcon||b.item_guid),alt:b.item_name,className:"w-12 h-12 object-contain"})}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs text-center p-1",children:m})}),n&&b&&c.jsx("button",{onClick:()=>y(h),className:"absolute -top-2 -right-2 text-red-500 hover:text-red-600 bg-gray-800 rounded-full",children:c.jsx(Vx,{className:"h-5 w-5"})}),c.jsx(yb,{id:`item-tooltip-${h}`,place:"top",className:"max-w-md whitespace-pre-wrap bg-gray-900/95 text-white px-4 py-2 rounded-lg shadow-xl border border-gray-700 z-[9999]",style:{zIndex:9999}})]})};return c.jsxs("div",{className:"relative flex justify-center items-center min-h-[600px] bg-gray-900/90 rounded-lg p-8",children:[c.jsx("div",{className:"absolute left-8 top-1/2 -translate-y-1/2 space-y-4",children:l.map(h=>c.jsx(p,{id:h.id,label:h.label},h.id))}),c.jsx("div",{className:"w-64 h-96 bg-gray-800/80 rounded-lg border-2 border-gray-600 flex items-center justify-center",children:c.jsx("div",{className:"text-gray-400 text-lg",children:"Character"})}),c.jsx("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 space-y-4",children:u.map(h=>c.jsx(p,{id:h.id,label:h.label},h.id))}),c.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-4",children:d.map(h=>c.jsx(p,{id:h.id,label:h.label},h.id))}),o&&c.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/80 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[80vh] overflow-auto",children:[c.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[c.jsxs("h2",{className:"text-xl font-bold text-white",children:["Select Item for ",s]}),c.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-white transition-colors px-4 py-2 rounded-md hover:bg-gray-800",children:"Close"})]}),c.jsx(Ou,{onSelectItem:g,isSelecting:!0,slotType:s||void 0})]})})]})}const vb=({characters:e,onEdit:t,onDelete:r,isAdmin:n=!1})=>{const[s,i]=w.useState(null),[o,a]=w.useState("all"),[l,u]=w.useState(""),d=y=>{i(s===y?null:y)},f=e.filter(y=>{const x=o==="all"||y.type===o,v=y.name.toLowerCase().includes(l.toLowerCase()),_=y.status==="Ativo";return x&&v&&_}),g=y=>{const x=new Date(y);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(x)};return e.length===0?c.jsx("div",{className:"bg-white bg-gray-with-oppacity rounded-lg shadow-md p-6 text-center",children:c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No characters added yet. Add your first character to get started."})}):c.jsxs("div",{className:"bg-white bg-gray-with-oppacity rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(km,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),c.jsxs("select",{value:o,onChange:y=>a(y.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Types"}),c.jsx("option",{value:"gathering",children:"Gathering"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"crafting",children:"Crafting"})]})]}),c.jsxs("div",{className:"relative flex-grow max-w-md",children:[c.jsx("input",{type:"text",placeholder:"Search characters...",value:l,onChange:y=>u(y.target.value),className:"w-full px-3 py-2 pl-8 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),c.jsx("span",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:c.jsx("svg",{className:"h-4 w-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Class"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Updated"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white bg-gray-with-oppacity divide-y divide-gray-200 dark:divide-gray-700",children:f.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No characters match your search criteria."})}):f.map(y=>c.jsxs(Ht.Fragment,{children:[c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.name})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y.type==="gathering"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":y.type==="processing"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:y.type.charAt(0).toUpperCase()+y.type.slice(1)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:y.primary_class&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:y.primary_class}),y.secondary_class&&c.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" → ",y.secondary_class]})]})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:g(y.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:g(y.updated_at)}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[c.jsx("button",{onClick:()=>d(y.id),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:s===y.id?c.jsx(_m,{className:"h-5 w-5"}):c.jsx(bm,{className:"h-5 w-5"})}),n&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t(y),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:c.jsx(Ux,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>r(y.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 transition-colors",children:c.jsx(jm,{className:"h-5 w-5"})})]})]})]}),s===y.id&&c.jsx("tr",{className:"bg-gray-50 dark:bg-gray-700",children:c.jsx("td",{colSpan:6,className:"px-6 py-4",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Equipment"}),c.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4",children:c.jsx(f0,{equipment:y.equipment||{},characterId:y.id,onEquipmentUpdate:()=>{},isEditable:!1})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Skills"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(y.skills).map(([x,v])=>c.jsxs("div",{className:"bg-white bg-gray-with-oppacity rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3 capitalize",children:x}),c.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([_,{level:p,rank:h}])=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:_}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:p}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:h})]})]},_))})]},x))})]})]})})})]},y.id))})]})})]})};function xb({isOpen:e,onClose:t,item:r,guildId:n}){const[s,i]=w.useState(1),[o,a]=w.useState([]),[l,u]=w.useState(""),[d,f]=w.useState(!1),[g,y]=w.useState(!1);w.useEffect(()=>{e&&(x(),i(1),u(""))},[e,n]);const x=async()=>{try{f(!0);const{data:{user:_}}=await M.auth.getUser();if(!_)throw new Error("Not authenticated");const{data:p,error:h}=await M.from("guild_memberships").select("user_id").eq("guild_id",n).eq("status","active");if(h)throw h;const{data:m,error:b}=await M.from("characters").select("user_id, name").in("user_id",p.map(E=>E.user_id)).eq("status","Ativo");if(b)throw b;const S=m.filter(E=>E.user_id!==_.id);a(S.map(E=>({user_id:E.user_id,character_name:E.name})))}catch(_){console.error("Error fetching guild members:",_),z.error("Failed to load guild members")}finally{f(!1)}},v=async()=>{if(!l||s<=0||s>r.quantity){z.error("Invalid transfer details");return}try{y(!0);const{data:_,error:p}=await M.rpc("transfer_inventory_item",{item_id:r.id,recipient_id:l,transfer_quantity:s});if(p)throw p;z.success("Item transferred successfully"),t()}catch(_){console.error("Error transferring item:",_),z.error("Failed to transfer item")}finally{y(!1)}};return e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),c.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:"​"}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-gray-800 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[c.jsxs("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[c.jsxs("h3",{className:"text-lg font-medium leading-6 text-white mb-4",children:["Transfer ",r.item_name]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Quantity (Max: ",r.quantity,")"]}),c.jsx("input",{type:"number",min:"1",max:r.quantity,value:s,onChange:_=>i(Math.min(r.quantity,Math.max(1,parseInt(_.target.value)||0))),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recipient"}),d?c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):o.length===0?c.jsx("p",{className:"text-gray-400 text-sm",children:"No other guild members found"}):c.jsxs("select",{value:l,onChange:_=>u(_.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[c.jsx("option",{value:"",children:"Select a member"}),o.map(_=>c.jsx("option",{value:_.user_id,children:_.character_name},_.user_id))]})]})]})]}),c.jsxs("div",{className:"bg-gray-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[c.jsx("button",{type:"button",onClick:v,disabled:g||!l||s<=0,className:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:g?"Transferring...":"Transfer"}),c.jsx("button",{type:"button",onClick:t,disabled:g,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-600 bg-gray-700 px-4 py-2 text-base font-medium text-gray-300 shadow-sm hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}):null}function wb(){const{id:e}=_v(),t=vn(),[r,n]=w.useState(null),[s,i]=w.useState([]),[o,a]=w.useState(!1),[l,u]=w.useState({}),[d,f]=w.useState(null),[g,y]=w.useState(!0),[x,v]=w.useState(!1),[_,p]=w.useState(null),[h,m]=w.useState(null),[b,S]=w.useState({}),[E,k]=w.useState({isOpen:!1,item:null}),[C,O]=w.useState(null),[L,B]=w.useState(null);w.useEffect(()=>{j(),K(),ne(),Z()},[e]);const Z=async()=>{var N;try{const{data:R}=await M.from("users").select("raw_user_meta_data").eq("id",e).single();(N=R==null?void 0:R.raw_user_meta_data)!=null&&N.avatar_url&&B(R.raw_user_meta_data.avatar_url)}catch(R){console.error("Error fetching user avatar:",R)}},ne=async()=>{try{const{data:N,error:R}=await M.from("guilds").select("id").eq("name","Not Gonna Lie").single();if(R)throw R;O(N.id)}catch(N){console.error("Error fetching guild:",N),z.error("Failed to load guild information")}},K=async()=>{try{const{data:N,error:R}=await M.from("inventory_items").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(R)throw R;i(N||[])}catch(N){console.error("Error fetching inventory:",N),z.error("Failed to load inventory")}},G=async N=>{try{if(p(N),!s.find(Y=>Y.id===N))throw new Error("Item not found");const{error:J}=await M.from("inventory_items").delete().eq("id",N);if(J)throw J;z.success("Item removed from inventory"),await K()}catch(R){console.error("Error deleting item:",R),z.error("Failed to remove item")}finally{p(null)}},A=async(N,R)=>{try{const J=b[N]||0;if(J<=0){z.error("Please enter a valid quantity to remove");return}if(J>=R){await G(N);return}if(m(N),!s.find(le=>le.id===N))throw new Error("Item not found");const{error:ie}=await M.from("inventory_items").update({quantity:R-J}).eq("id",N);if(ie)throw ie;z.success("Quantity updated successfully"),await K(),S(le=>({...le,[N]:0}))}catch(J){console.error("Error updating quantity:",J),z.error("Failed to update quantity")}finally{m(null)}},q=N=>{const R=Ni.find(ie=>ie.guid===N);if(!R)return"";const Y=R.displayIcon.replace(/^\/Game\//,"").split(".");return Y.pop(),`https://cdn.ashescodex.com/${Y.join(".")}_64.webp`};async function j(){try{y(!0);const{data:N,error:R}=await M.from("characters").select("*").eq("user_id",e).maybeSingle();if(R)throw R;if(!N){f("No character found for this user");return}n(N),u(N)}catch(N){console.error("Error fetching character:",N),f("Failed to load character")}finally{y(!1)}}const P=async()=>{try{v(!0);const{data:N,error:R}=await M.from("guilds").select("*").eq("name","Not Gonna Lie").single();if(R)throw R;if(!N)throw new Error("Could not find the guild");const J=Zm(),Y={name:`Character_${e==null?void 0:e.substring(0,8)}`,type:"gathering",skills:J,user_id:e,guild_id:N.id,primary_class:"Fighter",secondary_class:"Weapon Master",status:"Ativo"},{error:ie}=await M.from("characters").insert([Y]);if(ie)throw ie;const{error:le}=await M.from("guild_memberships").insert([{guild_id:N.id,user_id:e,role:"member",status:"active"}]);if(le&&!le.message.includes("unique constraint"))throw le;z.success("Character created successfully!"),await j()}catch(N){console.error("Error creating character:",N),z.error("Failed to create character")}finally{v(!1)}},$=N=>{const{name:R,value:J}=N.target;u(Y=>({...Y,[R]:J}))},F=(N,R,J,Y)=>{u(ie=>{var le,ke,He;return{...ie,skills:{...ie.skills,[N]:{...(le=ie.skills)==null?void 0:le[N],[R]:{...(He=(ke=ie.skills)==null?void 0:ke[N])==null?void 0:He[R],[J]:J==="level"?Math.min(100,Math.max(0,Number(Y))):Y}}}}})},ee=async N=>{N&&N.preventDefault();try{const{error:R}=await M.from("characters").update({name:l.name,type:l.type,primary_class:l.primary_class,secondary_class:l.secondary_class,skills:l.skills,guild_id:l.guild_id}).eq("user_id",e);if(R)throw R;z.success("Character updated successfully"),a(!1),j()}catch(R){console.error("Error updating character:",R),z.error("Failed to update character")}},T=N=>{switch(N){case"Common":return"text-gray-400";case"Uncommon":return"text-green-400";case"Rare":return"text-blue-400";case"Heroic":return"text-purple-400";case"Epic":return"text-yellow-400";case"Legendary":return"text-orange-400";case"Artifact":return"text-red-400";default:return"text-gray-400"}},V=N=>{k({isOpen:!0,item:N})};return g?c.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[c.jsx("div",{className:"flex justify-end mb-6",children:c.jsxs("button",{onClick:()=>t("/"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 bg-gray-500 rounded-md transition-colors",children:[c.jsx(cc,{className:"h-4 w-4 mr-2"}),"Back to Guild"]})}),c.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):d&&!r?c.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("button",{onClick:()=>t("/"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 bg-gray-500 rounded-md transition-colors",children:[c.jsx(cc,{className:"h-4 w-4 mr-2"}),"Back to Guild"]}),c.jsxs("button",{onClick:P,disabled:x,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:[c.jsx(Sm,{className:"h-4 w-4"}),x?"Creating Character...":"Create Character"]})]}),c.jsx("div",{className:"text-red-600 text-center",children:d})]}):c.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("button",{onClick:()=>o?ee():a(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(zx,{className:"h-4 w-4"}),o?"Save Changes":"Edit Character"]})}),c.jsxs("div",{className:"bg-white bg-gray-with-oppacity rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("div",{className:"flex-1",children:o?c.jsx("input",{type:"text",name:"name",value:l.name||"",onChange:$,className:"text-2xl font-bold bg-transparent border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-0 px-0 w-full"}):c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r==null?void 0:r.name})})})}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Type"}),o?c.jsxs("select",{name:"type",value:l.type||"",onChange:$,className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:[c.jsx("option",{value:"gathering",children:"Gathering"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"crafting",children:"Crafting"})]}):c.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white capitalize",children:r==null?void 0:r.type})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Primary Class"}),o?c.jsx("select",{name:"primary_class",value:l.primary_class||"",onChange:$,className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:Ym.map(N=>c.jsx("option",{value:N,children:N},N))}):c.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r==null?void 0:r.primary_class})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Secondary Class"}),o?c.jsx("select",{name:"secondary_class",value:l.secondary_class||"",onChange:$,className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:l.primary_class&&Xm[l.primary_class].map(N=>c.jsx("option",{value:N,children:N},N))}):c.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r==null?void 0:r.secondary_class})]})]})})]}),c.jsx("div",{className:"bg-white bg-gray-with-oppacity rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Equipment"}),r&&c.jsx(f0,{equipment:r.equipment||{},characterId:r.id,onEquipmentUpdate:N=>{n(R=>R?{...R,equipment:N}:null)},isEditable:o})]})}),c.jsx("div",{className:"bg-white bg-gray-with-oppacity rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Inventory"}),c.jsx("div",{className:"space-y-4",children:s.map(N=>c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:q(N.item_guid),alt:N.item_name,className:"w-12 h-12 object-contain"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.item_name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Quantity: ",N.quantity]}),c.jsx("span",{className:`text-sm ${T(N.rarity)}`,children:N.rarity})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"1",max:N.quantity,value:b[N.id]||"",onChange:R=>S({...b,[N.id]:Math.min(N.quantity,Math.max(1,parseInt(R.target.value)||0))}),className:"w-20 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Qty"}),c.jsx("button",{onClick:()=>A(N.id,N.quantity),disabled:h===N.id,className:"p-1 text-yellow-500 hover:bg-yellow-100 dark:hover:bg-yellow-900/20 rounded-full transition-colors",children:c.jsx(Mx,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>V(N),className:"p-1 text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded-full transition-colors",children:c.jsx(Fx,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>G(N.id),disabled:_===N.id,className:"p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-full transition-colors",children:c.jsx(jm,{className:"h-4 w-4"})})]})]})},N.id))})]})}),c.jsx("div",{className:"space-y-6",children:["gathering","processing","crafting"].map(N=>c.jsx("div",{className:"bg-white bg-gray-with-oppacity rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:[N," Skills"]}),c.jsx("div",{className:"space-y-3",children:Wo[N].map(R=>{var J,Y,ie,le,ke,He,oe,kt,Se,$t,Lt,Dt,he,ur,dr;return c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:R}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-600 rounded-lg overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500",style:{width:`${((ie=(Y=(J=r==null?void 0:r.skills)==null?void 0:J[N])==null?void 0:Y[R])==null?void 0:ie.level)||0}%`}})}),o?c.jsx("input",{type:"number",min:"0",max:"100",value:((He=(ke=(le=l.skills)==null?void 0:le[N])==null?void 0:ke[R])==null?void 0:He.level)||0,onChange:nt=>F(N,R,"level",nt.target.value),className:"w-16 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"}):c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 w-8 text-right",children:((Se=(kt=(oe=r==null?void 0:r.skills)==null?void 0:oe[N])==null?void 0:kt[R])==null?void 0:Se.level)||0}),o?c.jsx("select",{value:((Dt=(Lt=($t=l.skills)==null?void 0:$t[N])==null?void 0:Lt[R])==null?void 0:Dt.rank)||"Novice",onChange:nt=>F(N,R,"rank",nt.target.value),className:"text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded w-28",children:wc.map(nt=>c.jsx("option",{value:nt,children:nt},nt))}):c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 w-24",children:((dr=(ur=(he=r==null?void 0:r.skills)==null?void 0:he[N])==null?void 0:ur[R])==null?void 0:dr.rank)||"Novice"})]})]})},R)})})]})},N))}),C&&E.item&&c.jsx(xb,{isOpen:E.isOpen,onClose:()=>{k({isOpen:!1,item:null}),K()},item:E.item,guildId:C})]})}const _b=["All","CHARACTER_UPDATE","CHARACTER_DELETE","INVENTORY_ADD","INVENTORY_REMOVE","STATUS_UPDATE","ROLE_UPDATE","INVENTORY_TRANSFER","ORDER_COMPLETED"];function bb(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null),[o,a]=w.useState(""),[l,u]=w.useState([]),[d,f]=w.useState(!1),[g,y]=w.useState(1),[x,v]=w.useState(1),[_,p]=w.useState(0),[h,m]=w.useState({actionType:"All",dateFrom:"",dateTo:"",characterName:""}),b=10,S=15,E=vn();w.useEffect(()=>{C(),k()},[x,h]),w.useEffect(()=>{y(1)},[o]);const k=async()=>{try{f(!0);let T=M.from("audit_logs").select("*",{count:"exact"});h.actionType!=="All"&&(T=T.eq("action_type",h.actionType)),h.dateFrom&&(T=T.gte("created_at",h.dateFrom)),h.dateTo&&(T=T.lte("created_at",new Date(h.dateTo+"T23:59:59").toISOString())),T=T.order("created_at",{ascending:!1}).range((x-1)*S,x*S-1);const{data:V,error:N,count:R}=await T;if(N)throw N;const J=new Set([...V.map(oe=>oe.user_id),...V.map(oe=>oe.entity_id).filter(oe=>oe.length===36)]),{data:Y,error:ie}=await M.from("characters").select("id, user_id, name").in("user_id",Array.from(J)).eq("status","Ativo");if(ie)throw ie;const le={},ke={};Y.forEach(oe=>{le[oe.user_id]=oe.name,ke[oe.id]=oe.name});const He=V.map(oe=>{var $t;let kt;oe.action_type==="STATUS_UPDATE"||oe.action_type==="CHARACTER_UPDATE"||oe.action_type==="CHARACTER_DELETE"?kt=($t=oe.old_data)==null?void 0:$t.character_name:oe.action_type==="ROLE_UPDATE"?kt=le[oe.entity_id]:oe.entity_type==="CHARACTER"&&(kt=ke[oe.entity_id]);const Se={...oe,character_name:le[oe.user_id]||"Unknown Character",affected_character_name:kt};return h.characterName&&!Se.character_name.toLowerCase().includes(h.characterName.toLowerCase())&&(!Se.affected_character_name||!Se.affected_character_name.toLowerCase().includes(h.characterName.toLowerCase()))?null:Se}).filter(Boolean);u(He),p(R||0)}catch(T){console.error("Error fetching audit logs:",T),z.error("Failed to load audit logs")}finally{f(!1)}},C=async()=>{try{n(!0);const{data:T,error:V}=await M.from("guilds").select("*").eq("name","Not Gonna Lie").single();if(V){z.error("Guild not found");return}const{data:N,error:R}=await M.from("guild_memberships").select("user_id, role").eq("guild_id",T.id);if(R)throw R;const J=await Promise.all(N.map(async Y=>{const{data:ie,error:le}=await M.from("characters").select("*").eq("user_id",Y.user_id);if(le)return console.error("Error fetching characters:",le),null;const ke=(ie==null?void 0:ie.find(He=>He.status==="Ativo"))||(ie==null?void 0:ie[0]);return{id:Y.user_id,character_name:(ke==null?void 0:ke.name)||"Unknown Character",role:Y.role,characters:ie||[]}}));t(J.filter(Y=>Y!==null))}catch(T){console.error("Error fetching guild members:",T),z.error("Failed to load guild members")}finally{n(!1)}},O=async(T,V)=>{try{const{data:N}=await M.from("guilds").select("id").eq("name","Not Gonna Lie").single();if(!N){z.error("Guild not found");return}const{error:R}=await M.from("guild_memberships").update({role:V}).eq("guild_id",N.id).eq("user_id",T);if(R)throw R;z.success("Role updated successfully"),await C(),await k()}catch(N){console.error("Error updating role:",N),z.error("Failed to update role")}},L=async T=>{try{const V=T.status==="Ativo"?"Inativo":"Ativo",{error:N}=await M.from("characters").update({status:V}).eq("id",T.id);if(N)throw N;z.success(`Character ${V==="Ativo"?"activated":"deactivated"} successfully`),await C(),await k()}catch(V){console.error("Error updating character status:",V),z.error("Failed to update character status")}},B=T=>{i(s===T?null:T)},Z=T=>T.split("_").map(V=>V.charAt(0)+V.slice(1).toLowerCase()).join(" "),ne=T=>{switch(T){case"CHARACTER_UPDATE":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"CHARACTER_DELETE":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"INVENTORY_ADD":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"INVENTORY_REMOVE":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"STATUS_UPDATE":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"ROLE_UPDATE":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},K=T=>{switch(T.action_type){case"ROLE_UPDATE":return`Changed ${T.affected_character_name}'s role from ${T.old_data.role} to ${T.new_data.role}`;case"STATUS_UPDATE":return`Changed ${T.old_data.character_name}'s status from ${T.old_data.status} to ${T.new_data.status}`;case"CHARACTER_UPDATE":return`Updated ${T.old_data.character_name}'s details`;case"CHARACTER_DELETE":return`Deleted character ${T.old_data.character_name}`;case"INVENTORY_ADD":return`Added ${T.new_data.quantity}x ${T.new_data.item_name} (${T.new_data.rarity})`;case"INVENTORY_REMOVE":return`Removed ${T.old_data.quantity}x ${T.old_data.item_name} (${T.old_data.rarity})`;default:return Z(T.action_type)}},G=(T,V)=>{m(N=>({...N,[T]:V})),v(1)},A=()=>{m({actionType:"All",dateFrom:"",dateTo:"",characterName:""}),v(1)},q=e.filter(T=>T.character_name.toLowerCase().includes(o.toLowerCase())),j=g*b,P=j-b,$=q.slice(P,j),F=Math.ceil(q.length/b),ee=({currentPage:T,totalPages:V,onPageChange:N,label:R})=>c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-700/50",children:[c.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[c.jsx("button",{onClick:()=>N(T-1),disabled:T===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 hover:bg-gray-50 dark:hover:bg-gray-500 disabled:opacity-50",children:"Previous"}),c.jsx("button",{onClick:()=>N(T+1),disabled:T===V,className:"ml-3 relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 hover:bg-gray-50 dark:hover:bg-gray-500 disabled:opacity-50",children:"Next"})]}),c.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[R," ",c.jsx("span",{className:"font-medium",children:T})," of"," ",c.jsx("span",{className:"font-medium",children:V})]})}),c.jsx("div",{children:c.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[c.jsx("button",{onClick:()=>N(T-1),disabled:T===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-600 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-500 disabled:opacity-50",children:c.jsx(uc,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>N(T+1),disabled:T===V,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-600 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-500 disabled:opacity-50",children:c.jsx(dc,{className:"h-5 w-5"})})]})})]})]});return r?c.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Guild Members"}),c.jsxs("button",{onClick:()=>E("/"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 bg-gray-500 rounded-md transition-colors",children:[c.jsx(cc,{className:"h-4 w-4"}),"Back to Guild"]})]}),c.jsxs("div",{className:"relative w-full max-w-md mb-4",children:[c.jsx("input",{type:"text",placeholder:"Search members...",value:o,onChange:T=>a(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500"}),c.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),c.jsx("div",{className:"bg-white bg-gray-with-oppacity shadow-md rounded-lg overflow-hidden",children:c.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:$.map(T=>{var V,N;return c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"h-10 w-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:c.jsx(Ho,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.character_name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[c.jsxs("select",{value:T.role,onChange:R=>O(T.id,R.target.value),className:"text-sm text-gray-500 dark:text-gray-400 bg-transparent border-none focus:ring-0 p-0 pr-6",children:[c.jsx("option",{value:"member",children:"Member"}),c.jsx("option",{value:"admin",children:"Admin"})]}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${((V=T.characters[0])==null?void 0:V.status)==="Ativo"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:((N=T.characters[0])==null?void 0:N.status)||"Unknown"})]})]})]}),c.jsx("button",{onClick:()=>B(T.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:s===T.id?c.jsx(xm,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}):c.jsx(vm,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),s===T.id&&c.jsxs("div",{className:"mt-4 pl-14",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Characters"}),c.jsx("div",{className:"space-y-4",children:T.characters.map(R=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:R.name}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R.status==="Ativo"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:R.status})]}),c.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[R.primary_class," → ",R.secondary_class]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>L(R),className:`p-2 rounded-full transition-colors ${R.status==="Ativo"?"text-green-500 hover:bg-green-100 dark:hover:bg-green-900/20":"text-red-500 hover:bg-red-100 dark:hover:bg-red-900/20"}`,children:R.status==="Ativo"?c.jsx(bm,{className:"h-5 w-5"}):c.jsx(_m,{className:"h-5 w-5"})}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R.type==="gathering"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":R.type==="processing"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:R.type})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:R.skills&&Object.entries(R.skills).map(([J,Y])=>typeof Y=="number"&&c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 dark:bg-gray-800 rounded",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 capitalize",children:J}),c.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Y})]},J))})]},R.id))})]})]},T.id)})})}),c.jsx(ee,{currentPage:g,totalPages:F,onPageChange:y,label:"Page"}),c.jsxs("div",{className:"mt-8 bg-white bg-gray-with-oppacity rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-700",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(wm,{className:"h-5 w-5"}),"Audit Logs"]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Action Type"}),c.jsx("select",{value:h.actionType,onChange:T=>G("actionType",T.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:_b.map(T=>c.jsx("option",{value:T,children:T.replace(/_/g," ")},T))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Date From"}),c.jsx("input",{type:"date",value:h.dateFrom,onChange:T=>G("dateFrom",T.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Date To"}),c.jsx("input",{type:"date",value:h.dateTo,onChange:T=>G("dateTo",T.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Character Name"}),c.jsx("input",{type:"text",value:h.characterName,onChange:T=>G("characterName",T.target.value),placeholder:"Search by character...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:A,className:"px-4 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-500 transition-colors",children:"Reset Filters"})})]}),c.jsx("div",{className:"divide-y divide-gray-700",children:d?c.jsx("div",{className:"p-4 text-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})}):l.length===0?c.jsx("div",{className:"p-4 text-center text-gray-400",children:"No audit logs found matching the current filters"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{className:"bg-gray-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Time"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Character"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Action"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-700",children:l.map(T=>c.jsxs("tr",{className:"hover:bg-gray-700/50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(T.created_at).toLocaleString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:T.character_name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ne(T.action_type)}`,children:K(T)})})]},T.id))})]})})}),c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-700/50",children:[c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-gray-300",children:["Page ",x," of ",Math.ceil(_/S)]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>v(T=>Math.max(1,T-1)),disabled:x===1||d,className:"relative inline-flex items-center px-2 py-2 rounded-md border border-gray-600 bg-gray-700 text-sm font-medium text-gray-300 hover:bg-gray-600 disabled:opacity-50",children:c.jsx(uc,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>v(T=>T+1),disabled:l.length<S||d,className:"relative inline-flex items-center px-2 py-2 rounded-md border border-gray-600 bg-gray-700 text-sm font-medium text-gray-300 hover:bg-gray-600 disabled:opacity-50",children:c.jsx(dc,{className:"h-5 w-5"})})]})]})]})]})}const kb=({title:e,message:t,onConfirm:r,onCancel:n,isOpen:s})=>s?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:n,"aria-hidden":"true"}),c.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"​"}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white bg-gray-with-oppacity  text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[c.jsx("div",{className:"bg-white bg-gray-with-oppacity  px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsxs("div",{className:"sm:flex sm:items-start",children:[c.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 dark:bg-red-900 sm:mx-0 sm:h-10 sm:w-10",children:c.jsx(ym,{className:"h-6 w-6 text-red-600 dark:text-red-300"})}),c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[c.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:e}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})})]})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[c.jsx("button",{type:"button",onClick:r,className:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Confirm"}),c.jsx("button",{type:"button",onClick:n,className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 dark:border-gray-600 bg-white bg-gray-with-oppacity  px-4 py-2 text-base font-medium text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})]})}):null,Sb=["Common","Uncommon","Rare","Heroic","Epic","Legendary","Artifact"];function jb(){vn();const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState(""),[d,f]=w.useState([]),[g,y]=w.useState(null),[x,v]=w.useState(1),[_,p]=w.useState(100),[h,m]=w.useState("Common"),[b,S]=w.useState(0);w.useEffect(()=>{E(),C(),O(),k()},[]);const E=async()=>{try{const{data:{user:j}}=await M.auth.getUser();if(!j)return;const{data:P}=await M.from("guilds").select("id").eq("name","Not Gonna Lie").single();if(!P)return;const{data:$}=await M.from("guild_memberships").select("role").eq("guild_id",P.id).eq("user_id",j.id).eq("status","active").single();i(($==null?void 0:$.role)==="admin")}catch(j){console.error("Error checking admin status:",j)}},k=async()=>{try{const{data:{user:j}}=await M.auth.getUser();if(!j)return;const{data:P}=await M.from("points_balance").select("balance").eq("user_id",j.id).maybeSingle();S((P==null?void 0:P.balance)||0)}catch(j){console.error("Error fetching user points:",j)}},C=async()=>{try{n(!0);const{data:j,error:P}=await M.from("buy_orders").select(`
          *,
          responses:buy_order_responses(*)
        `).order("created_at",{ascending:!1});if(P)throw P;const $=[...new Set(j.flatMap(N=>{var R;return((R=N.responses)==null?void 0:R.map(J=>J.responder_id))||[]}))],{data:F,error:ee}=await M.from("characters").select("user_id, name").in("user_id",$);if(ee)throw ee;const T=F.reduce((N,R)=>(N[R.user_id]=R.name,N),{}),V=j.map(N=>{var R;return{...N,responses:(R=N.responses)==null?void 0:R.map(J=>({...J,character_name:T[J.responder_id]||"Unknown Character"}))}});t(V)}catch(j){console.error("Error fetching orders:",j),z.error("Failed to load buy orders")}finally{n(!1)}},O=async()=>{try{const{data:{user:j}}=await M.auth.getUser();if(!j)return;const{data:P,error:$}=await M.from("inventory_items").select("*").eq("user_id",j.id);if($)throw $;f(P||[])}catch(j){console.error("Error fetching inventory:",j)}},L=async()=>{if(!g||x<=0||_<=0){z.error("Please fill in all fields correctly");return}try{const{data:{user:j}}=await M.auth.getUser();if(!j)throw new Error("Not authenticated");const{error:P}=await M.from("buy_orders").insert({creator_id:j.id,item_guid:g.guid,item_name:g.itemName,quantity:x,points_reward:_,rarity:h});if(P)throw P;z.success("Buy order created successfully"),a(!1),y(null),v(1),p(100),m("Common"),C()}catch(j){console.error("Error creating buy order:",j),z.error("Failed to create buy order")}},B=async j=>{try{const P=d.find(ee=>ee.item_guid===j.item_guid&&ee.quantity>=j.quantity&&ee.rarity===j.rarity);if(!P){z.error(`You don't have enough ${j.rarity} quality items`);return}const{data:{user:$}}=await M.auth.getUser();if(!$)throw new Error("Not authenticated");const{error:F}=await M.from("buy_order_responses").insert({order_id:j.id,responder_id:$.id,inventory_item_id:P.id});if(F)throw F;await M.from("buy_orders").update({status:"pending"}).eq("id",j.id),z.success("Response submitted successfully"),C(),O()}catch(P){console.error("Error responding to buy order:",P),z.error("Failed to submit response")}},Z=async(j,P)=>{try{const{error:$}=await M.from("buy_order_responses").update({status:P}).eq("id",j.id);if($)throw $;z.success(`Response ${P} successfully`),C(),k()}catch($){console.error("Error updating response:",$),z.error(`Failed to ${P} response`)}},ne=async j=>{try{const{error:P}=await M.from("buy_orders").update({status:"completed"}).eq("id",j.id);if(P)throw P;z.success("Order marked as completed"),C()}catch(P){console.error("Error completing order:",P),z.error("Failed to complete order")}},K=j=>{const P=Ni.find(ee=>ee.guid===j);if(!P)return"";const F=P.displayIcon.replace(/^\/Game\//,"").split(".");return F.pop(),`https://cdn.ashescodex.com/${F.join(".")}_64.webp`},G=e.filter(j=>j.item_name.toLowerCase().includes(l.toLowerCase())),A=j=>{switch(j){case"open":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},q=j=>{switch(j){case"Common":return"text-gray-400";case"Uncommon":return"text-green-400";case"Rare":return"text-blue-400";case"Heroic":return"text-purple-400";case"Epic":return"text-yellow-400";case"Legendary":return"text-orange-400";case"Artifact":return"text-red-400";default:return"text-gray-400"}};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Buy Orders"}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:["Your Points Balance: ",b]})]})}),s&&c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Sm,{className:"h-5 w-5"}),"Create Buy Order"]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search orders...",value:l,onChange:j=>u(j.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),c.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),r?c.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(j=>c.jsx("div",{className:"bg-white bg-gray-with-oppacity rounded-lg shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("img",{src:K(j.item_guid),alt:j.item_name,className:"w-12 h-12 object-contain"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:j.item_name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(j.status)}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)}),c.jsx("span",{className:`text-sm ${q(j.rarity)}`,children:j.rarity}),c.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Quantity: ",j.quantity]})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:[j.points_reward," Points"]}),j.status==="open"&&!s&&c.jsxs("button",{onClick:()=>B(j),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Ix,{className:"h-4 w-4"}),"Respond"]}),s&&j.status==="pending"&&c.jsxs("button",{onClick:()=>ne(j),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[c.jsx(ah,{className:"h-4 w-4"}),"Complete Order"]})]}),j.responses&&j.responses.length>0&&c.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Responses"}),c.jsx("div",{className:"space-y-2",children:j.responses.map(P=>c.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-2 rounded",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:P.character_name}),s&&P.status==="pending"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>Z(P,"accepted"),className:"p-1 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/20 rounded",children:c.jsx(ah,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>Z(P,"rejected"),className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20 rounded",children:c.jsx(Em,{className:"h-4 w-4"})})]}),!s&&c.jsx("span",{className:`text-sm ${P.status==="accepted"?"text-green-600":P.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]},P.id))})]})]})},j.id))}),o&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>a(!1)}),c.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:"​"}),c.jsxs("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:[c.jsxs("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[c.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4",children:"Create Buy Order"}),c.jsxs("div",{className:"space-y-4",children:[g?c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsx("img",{src:K(g.guid),alt:g.itemName,className:"w-12 h-12 object-contain"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:g.itemName}),c.jsx("button",{onClick:()=>y(null),className:"text-sm text-red-600 hover:text-red-700",children:"Change Item"})]})]}):c.jsx(Ou,{onSelectItem:y,isSelecting:!0}),g&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rarity"}),c.jsx("select",{value:h,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:Sb.map(j=>c.jsx("option",{value:j,children:j},j))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),c.jsx("input",{type:"number",min:"1",value:x,onChange:j=>v(Math.max(1,parseInt(j.target.value)||0)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Points Reward"}),c.jsx("input",{type:"number",min:"1",value:_,onChange:j=>p(Math.max(1,parseInt(j.target.value)||0)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[c.jsx("button",{type:"button",onClick:L,disabled:!g,className:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:"Create Order"}),c.jsx("button",{type:"button",onClick:()=>a(!1),className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-base font-medium text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}function Eb(){const[e,t]=w.useState({}),[r,n]=w.useState(!0),[s,i]=w.useState(new Set),[o,a]=w.useState([]),[l,u]=w.useState(!1),[d,f]=w.useState(1),[g,y]=w.useState(""),x=10;vn(),w.useEffect(()=>{_(),v()},[d]);const v=async()=>{try{u(!0);const{data:k}=await M.from("guilds").select("id").eq("name","Not Gonna Lie").single();if(!k)return;const{data:C,error:O}=await M.from("audit_logs").select("*").in("action_type",["INVENTORY_ADD","INVENTORY_REMOVE","INVENTORY_TRANSFER","ORDER_COMPLETED"]).order("created_at",{ascending:!1}).range((d-1)*x,d*x-1);if(O)throw O;const L=C.map(G=>G.user_id),{data:B,error:Z}=await M.from("characters").select("user_id, name").in("user_id",L).eq("status","Ativo");if(Z)throw Z;const ne=B.reduce((G,A)=>(G[A.user_id]=A.name,G),{}),K=C.map(G=>({...G,character_name:ne[G.user_id]||"Unknown Character"}));a(K)}catch(k){console.error("Error fetching inventory logs:",k),z.error("Failed to load inventory logs")}finally{u(!1)}},_=async()=>{try{n(!0);const{data:k,error:C}=await M.from("guilds").select("id").eq("name","Not Gonna Lie").single();if(C)throw C;const{data:O,error:L}=await M.from("inventory_items").select("*").eq("guild_id",k.id).order("created_at",{ascending:!1});if(L)throw L;const B=[...new Set(O.map(A=>A.user_id))],{data:Z,error:ne}=await M.from("characters").select("user_id, name").in("user_id",B).eq("status","Ativo");if(ne)throw ne;const K=Z.reduce((A,q)=>(A[q.user_id]=q.name,A),{}),G=(O||[]).reduce((A,q)=>(A[q.item_name]||(A[q.item_name]={total:0,guid:q.item_guid,byRarity:{},holders:[]}),A[q.item_name].total+=q.quantity,A[q.item_name].byRarity[q.rarity]=(A[q.item_name].byRarity[q.rarity]||0)+q.quantity,A[q.item_name].holders.push({user_id:q.user_id,character_name:K[q.user_id]||"Unknown Character",quantity:q.quantity,rarity:q.rarity}),A),{});t(G)}catch(k){console.error("Error fetching inventory:",k),z.error("Failed to load guild inventory")}finally{n(!1)}},p=k=>{i(C=>{const O=new Set(C);return O.has(k)?O.delete(k):O.add(k),O})},h=k=>{const C=Ni.find(Z=>Z.guid===k);if(!C)return"";const L=C.displayIcon.replace(/^\/Game\//,"").split(".");return L.pop(),`https://cdn.ashescodex.com/${L.join(".")}_64.webp`},m=k=>{switch(k){case"Common":return"text-gray-400";case"Uncommon":return"text-green-400";case"Rare":return"text-blue-400";case"Heroic":return"text-purple-400";case"Epic":return"text-yellow-400";case"Legendary":return"text-orange-400";case"Artifact":return"text-red-400";default:return"text-gray-400"}},b=k=>k.action_type==="INVENTORY_ADD"?`Added ${k.new_data.quantity}x ${k.new_data.item_name} (${k.new_data.rarity})`:k.action_type==="INVENTORY_REMOVE"?`Removed ${k.old_data.quantity}x ${k.old_data.item_name} (${k.old_data.rarity})`:k.action_type==="INVENTORY_TRANSFER"?`Transferred ${k.old_data.quantity}x ${k.old_data.item_name} from ${k.old_data.from_character_name} to ${k.new_data.to_character_name}`:k.action_type==="ORDER_COMPLETED"?`Completed order: ${k.old_data.quantity}x ${k.old_data.item_name} from ${k.old_data.from_character_name} to ${k.new_data.to_character_name} for ${k.old_data.points_reward} points`:"",S=k=>{switch(k){case"INVENTORY_ADD":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"INVENTORY_REMOVE":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"INVENTORY_TRANSFER":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"ORDER_COMPLETED":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},E=Object.entries(e).filter(([k])=>k.toLowerCase().includes(g.toLowerCase()));return r?c.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Guild Inventory"})}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search items...",value:g,onChange:k=>y(k.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),c.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(([k,C])=>c.jsxs("div",{className:"bg-white bg-gray-with-oppacity rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-700/50 transition-colors",onClick:()=>p(k),children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:h(C.guid),alt:k,className:"w-12 h-12 object-contain"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:k}),c.jsxs("p",{className:"text-gray-300",children:["Total Quantity: ",C.total]})]}),s.has(k)?c.jsx(xm,{className:"h-5 w-5 text-gray-400"}):c.jsx(vm,{className:"h-5 w-5 text-gray-400"})]})}),s.has(k)&&c.jsx("div",{className:"p-4 border-t border-gray-700",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"By Rarity:"}),Object.entries(C.byRarity).map(([O,L])=>c.jsxs("p",{className:`text-sm ${m(O)}`,children:[O,": ",L]},O))]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm text-gray-400 font-medium mb-2",children:"Holders:"}),c.jsx("div",{className:"space-y-2",children:C.holders.map((O,L)=>c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Ho,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-gray-300",children:O.character_name}),c.jsx("span",{className:"text-gray-400",children:"•"}),c.jsxs("span",{className:`${m(O.rarity)}`,children:[O.quantity,"x ",O.rarity]})]},L))})]})]})})]},k))}),c.jsxs("div",{className:"mt-8 bg-white bg-gray-with-oppacity rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-700",children:c.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(wm,{className:"h-5 w-5"}),"Recent Inventory Activity"]})}),c.jsx("div",{className:"divide-y divide-gray-700",children:l?c.jsx("div",{className:"p-4 text-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})}):o.length===0?c.jsx("div",{className:"p-4 text-center text-gray-400",children:"No recent inventory activity"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{className:"bg-gray-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Time"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Character"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Action"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-700",children:o.map(k=>c.jsxs("tr",{className:"hover:bg-gray-700/50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(k.created_at).toLocaleString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:k.character_name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(k.action_type)}`,children:b(k)})})]},k.id))})]})})}),c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-700/50",children:[c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-gray-300",children:["Page ",c.jsx("span",{className:"font-medium",children:d})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>f(k=>Math.max(1,k-1)),disabled:d===1||l,className:"relative inline-flex items-center px-2 py-2 rounded-md border border-gray-600 bg-gray-700 text-sm font-medium text-gray-300 hover:bg-gray-600 disabled:opacity-50",children:c.jsx(uc,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>f(k=>k+1),disabled:o.length<x||l,className:"relative inline-flex items-center px-2 py-2 rounded-md border border-gray-600 bg-gray-700 text-sm font-medium text-gray-300 hover:bg-gray-600 disabled:opacity-50",children:c.jsx(dc,{className:"h-5 w-5"})})]})]})]})]})}function Nb({session:e}){const[t,r]=w.useState(null),[n,s]=w.useState([]),[i,o]=w.useState(null),[a,l]=w.useState(!1),[u,d]=w.useState({show:!1,id:null}),[f,g]=w.useState(!1),y=vn();w.useEffect(()=>{e&&t&&(v(),x())},[e,t]);const x=async()=>{if(t)try{const{data:m,error:b}=await M.from("guild_memberships").select("role, status").eq("guild_id",t).eq("user_id",e.user.id).maybeSingle();if(b){console.error("Error checking admin status:",b),g(!1);return}g((m==null?void 0:m.role)==="admin"&&(m==null?void 0:m.status)==="active")}catch(m){console.error("Error in checkAdminStatus:",m),g(!1)}},v=async()=>{if(!t)return;const{data:m,error:b}=await M.from("characters").select("*").eq("guild_id",t).order("updated_at",{ascending:!1});if(b){console.error("Error fetching characters:",b);return}s(m||[])},_=async m=>{if(t)try{if(i){const{error:b}=await M.from("characters").update({name:m.name,type:m.type,primary_class:m.primary_class,secondary_class:m.secondary_class,skills:m.skills,guild_id:t}).eq("id",i.id);if(b)throw b}await v(),l(!1),o(null)}catch(b){throw console.error("Error saving character:",b),b}},p=m=>{o(m),l(!0)},h=async m=>{try{const{data:b,error:S}=await M.from("characters").select("user_id").eq("id",m).single();if(S)throw S;const{error:E}=await M.from("characters").delete().eq("id",m);if(E)throw E;const{data:k,error:C}=await M.from("characters").select("id").eq("user_id",b.user_id);if(C)throw C;if(k.length===0){const{error:O}=await M.from("guild_memberships").delete().eq("user_id",b.user_id).eq("guild_id",t);if(O)throw O}await v(),d({show:!1,id:null})}catch(b){console.error("Error deleting character:",b)}};return c.jsxs("div",{className:"max-w-7xl w-full mx-auto px-4 py-8 space-y-6",children:[c.jsxs("div",{className:"flex justify-end space-x-4 hidden",children:[f&&c.jsx("button",{onClick:()=>y("/admin"),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Admin Dashboard"}),c.jsx("button",{onClick:()=>y("/guild-inventory"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Guild Inventory"}),c.jsx("button",{onClick:()=>y("/buy-orders"),className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors",children:"Buy Orders"}),c.jsx("button",{onClick:()=>y("/items"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Item Database"}),c.jsx("button",{onClick:()=>y(`/profile/${e.user.id}`),className:"px-4 py-2 text-sm font-medium text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 bg-gray-500 rounded-md transition-colors",children:"View Profile"})]}),c.jsx(u_,{selectedGuildId:t,onSelectGuild:r}),t&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Characters"})}),a&&c.jsx(h_,{initialValues:i||void 0,onSubmit:_,onCancel:()=>{l(!1),o(null)}}),c.jsx(vb,{characters:n,onEdit:p,onDelete:m=>d({show:!0,id:m}),isAdmin:f}),c.jsx(kb,{isOpen:u.show,title:"Delete Character",message:"Are you sure you want to delete this character? This action cannot be undone. If this is the user's last character, their guild membership will also be removed.",onConfirm:()=>u.id&&h(u.id),onCancel:()=>d({show:!1,id:null})})]})]})}function Cb(){const[e,t]=w.useState(null);return w.useEffect(()=>{M.auth.getSession().then(({data:{session:n}})=>{t(n)});const{data:{subscription:r}}=M.auth.onAuthStateChange((n,s)=>{t(s)});return()=>r.unsubscribe()},[]),e?c.jsxs(Sh,{children:[c.jsx(Ox,{position:"top-right"}),c.jsx("div",{className:"space-y-6",children:c.jsxs(Dv,{children:[c.jsx(Kr,{path:"/",element:c.jsx(Nb,{session:e})}),c.jsx(Kr,{path:"/profile/:id",element:c.jsx(wb,{})}),c.jsx(Kr,{path:"/admin",element:c.jsx(bb,{})}),c.jsx(Kr,{path:"/items",element:c.jsx(Ou,{})}),c.jsx(Kr,{path:"/guild-inventory",element:c.jsx(Eb,{})}),c.jsx(Kr,{path:"/buy-orders",element:c.jsx(jb,{})})]})})]}):c.jsx(Sh,{children:c.jsx(c_,{})})}nm(document.getElementById("root")).render(c.jsx(w.StrictMode,{children:c.jsx(zv,{children:c.jsx(Cb,{})})}));export{qh as g};
